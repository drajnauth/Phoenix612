Version 4
SHEET 1 2128 1496
WIRE 112 -176 48 -176
WIRE 160 -176 112 -176
WIRE 288 -176 240 -176
WIRE 416 -176 288 -176
WIRE 480 -176 416 -176
WIRE 288 -128 288 -176
WIRE 288 -32 288 -48
WIRE 112 0 112 -176
WIRE 416 112 416 -176
WIRE 416 144 416 112
WIRE -16 192 -144 192
WIRE 112 192 112 80
WIRE 112 192 48 192
WIRE 288 192 112 192
WIRE 352 192 288 192
WIRE -144 224 -144 192
WIRE 112 240 112 192
WIRE 416 272 416 240
WIRE -144 320 -144 304
WIRE 112 336 112 320
WIRE 416 352 416 272
WIRE 448 352 416 352
WIRE 640 352 512 352
WIRE 672 352 640 352
WIRE 672 368 672 352
WIRE 416 384 416 352
WIRE 672 464 672 448
WIRE 416 512 416 464
FLAG -144 320 0
FLAG 112 336 0
FLAG 416 512 0
FLAG 640 352 Vout
FLAG 672 464 0
FLAG 288 192 Vb
FLAG 416 272 Ve
FLAG -144 192 Vin
FLAG 416 112 Vc
FLAG 288 -32 0
FLAG 48 -112 0
FLAG 480 -112 0
FLAG -64 256 0
SYMBOL voltage -144 208 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMBOL res 96 -16 R0
SYMATTR InstName Rb1
SYMATTR Value 2389
SYMBOL res 96 224 R0
SYMATTR InstName Rb2
SYMATTR Value 1049
SYMBOL res 400 368 R0
SYMATTR InstName Re
SYMATTR Value 50
SYMBOL res 656 352 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL cap 48 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 100µ
SYMBOL npn 352 144 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222A
SYMBOL voltage 288 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL cap 512 336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100µ
SYMBOL ind 144 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 10µ
SYMBOL cap 32 -176 R0
WINDOW 0 -28 15 Left 2
WINDOW 3 -38 41 Left 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL cap 464 -176 R0
WINDOW 0 30 14 Left 2
WINDOW 3 36 43 Left 2
SYMATTR InstName C3
SYMATTR Value .1µ
TEXT -384 64 Left 2 !.tran 0 20u 18u
TEXT 928 -464 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vbr RMS V(Vb)\n.meas TRAN Vcr RMS V(Vc)\n.meas TRAN Ver RMS V(Ve)\n.meas TRAN Ibr RMS Ib(Q1)\n.meas TRAN Icr RMS Ic(Q1)\n.meas TRAN Ier RMS Ie(Q1)\n.meas TRAN Vbavg AVG V(Vb)\n.meas TRAN Vbmax MAX V(Vb)\n.meas TRAN Vbmin MIN V(Vb)\n.meas TRAN Vppr PARAM Vbmax-Vbmin\n.meas TRAN Vpr PARAM Vbmax-Vbe\n.meas TRAN Cd PARAM Vpr/Vppr\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis AVG (V(Vc,Ve)*Ic(Q1) + V(Vb,Ve)*Ib(Q1))\n \n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Ver/Ier\n.meas TRAN CdAngle PARAM Cd*360\n.meas TRAN Pin AVG (Zin*I(V1)*I(V1))\n.meas TRAN Re PARAM .026/Icr\n \n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gpr PARAM (Pout/Pin)\n.meas TRAN Gvr PARAM (Voutr/Vinr)\n.meas TRAN Gir PARAM (Iinr/Ioutr)\n.meas TRAN Gp PARAM 10*log10(Gpr)\n.meas TRAN Gv PARAM 20*log10(Gvr)\n.meas TRAN Gi PARAM 20*log10(Gir)\n.meas TRAN Beta PARAM (Icr/Ibr)\n \n.four {F} 4 -1 V(Vout)
TEXT -320 -368 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list 3.7Meg  7.1Meg 1 14.1Meg  28.7Meg\n.param F 30Meg\n.param S 1\n.param Z 1\n.param Vbe 0.65
TEXT -392 104 Left 2 ;.ac dec 1000 1Meg 30Meg
TEXT -376 152 Left 2 ;.op
