Version 4
SHEET 1 3060 1616
WIRE 1040 -416 608 -416
WIRE 1168 -416 1040 -416
WIRE 1216 -416 1168 -416
WIRE 1264 -416 1216 -416
WIRE 1392 -416 1344 -416
WIRE 1456 -416 1392 -416
WIRE 1520 -416 1456 -416
WIRE 1392 -400 1392 -416
WIRE 1520 -400 1520 -416
WIRE 1040 -384 1040 -416
WIRE 1168 -368 1168 -416
WIRE 1216 -368 1216 -416
WIRE 1392 -320 1392 -336
WIRE 1520 -320 1520 -336
WIRE 1040 -288 1040 -304
WIRE 1168 -288 1168 -304
WIRE 1216 -288 1216 -304
WIRE 608 -240 608 -416
WIRE 608 -240 512 -240
WIRE 512 -224 512 -240
WIRE 1456 -176 1456 -416
WIRE 1456 -176 1408 -176
WIRE 1504 -176 1472 -176
WIRE 512 -144 512 -160
WIRE 1408 -144 1408 -176
WIRE 1504 -144 1504 -176
WIRE 608 -112 608 -240
WIRE 1136 -48 1104 -48
WIRE 1248 -48 1216 -48
WIRE 1344 -48 1312 -48
WIRE 1408 -48 1408 -64
WIRE 1408 -48 1344 -48
WIRE 1504 -48 1504 -64
WIRE 1568 -48 1504 -48
WIRE 1680 -48 1632 -48
WIRE 1744 -48 1680 -48
WIRE 1408 -32 1408 -48
WIRE 1472 -32 1472 -176
WIRE 1472 -32 1408 -32
WIRE 1104 -16 1104 -48
WIRE 1680 -16 1680 -48
WIRE 608 0 608 -32
WIRE 608 0 512 0
WIRE 1344 0 1344 -48
WIRE 512 16 512 0
WIRE 1344 16 1344 0
WIRE 512 96 512 80
WIRE 816 96 736 96
WIRE 928 96 880 96
WIRE 1024 96 1008 96
WIRE 1104 96 1104 64
WIRE 1104 96 1024 96
WIRE 1136 96 1104 96
WIRE 1264 96 1216 96
WIRE 1296 96 1264 96
WIRE 1680 96 1680 64
WIRE 608 128 608 0
WIRE 736 128 736 96
WIRE 1024 144 1024 96
WIRE 1344 160 1344 112
WIRE 1024 224 928 224
WIRE 928 240 928 224
WIRE 736 256 736 208
WIRE 608 272 608 208
WIRE 608 288 608 272
WIRE 1024 288 1024 224
WIRE -32 368 -48 368
WIRE 64 368 -32 368
WIRE 112 368 64 368
WIRE 208 368 176 368
WIRE 336 368 288 368
WIRE 400 368 336 368
WIRE 528 368 480 368
WIRE 560 368 528 368
WIRE -48 384 -48 368
WIRE 64 400 64 368
WIRE 336 400 336 368
WIRE 1024 400 1024 368
WIRE 1024 400 928 400
WIRE 608 416 608 384
WIRE 928 416 928 400
WIRE 1024 464 1024 400
WIRE -48 480 -48 464
WIRE 1024 560 1024 544
WIRE 336 624 336 480
WIRE 400 624 336 624
WIRE 512 624 480 624
WIRE 576 624 512 624
WIRE 624 624 576 624
WIRE 336 656 336 624
WIRE 624 656 624 624
WIRE 512 672 512 624
WIRE 336 736 336 720
WIRE 512 752 512 736
WIRE 624 752 624 736
FLAG 1040 -288 0
FLAG 1024 560 0
FLAG 1344 160 0
FLAG 1216 -288 0
FLAG 1392 -320 0
FLAG 1520 -320 0
FLAG 1168 -288 0
FLAG 1680 96 0
FLAG 1744 -48 Vout
FLAG 1264 96 Vg1
FLAG 1344 0 Vd1
FLAG -48 480 0
FLAG -32 368 Vin
FLAG 1024 400 Vbias1
FLAG 608 416 0
FLAG 528 368 Vg2
FLAG 608 272 Vd2
FLAG 512 96 0
FLAG 736 256 0
FLAG 512 -144 0
FLAG 512 752 0
FLAG 336 736 0
FLAG 928 480 0
FLAG 928 304 0
FLAG 624 752 0
FLAG 576 624 Vbias2
FLAG 64 400 0
SYMBOL voltage 1040 -400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL voltage 1024 448 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {BM1}
SYMBOL res 1008 128 R0
SYMATTR InstName R7
SYMATTR Value 10K
SYMBOL ind 1248 -400 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 1µ
SYMBOL cap 1200 -368 R0
SYMATTR InstName C5
SYMATTR Value 470µ
SYMBOL cap 1376 -400 R0
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL cap 1568 -32 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C8
SYMATTR Value .1µ
SYMBOL cap 1504 -400 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL cap 1152 -368 R0
SYMATTR InstName C12
SYMATTR Value .1µ
SYMBOL res 1664 -32 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL voltage -48 368 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMATTR InstName V5
SYMATTR Value SINE(0 {S} {F})
SYMBOL nmos 1296 16 R0
SYMATTR InstName M1
SYMATTR Value RD16HHF1
SYMBOL ind2 1488 -160 R0
SYMATTR InstName L1
SYMATTR Value 8.8µ
SYMATTR Type ind
SYMBOL ind2 1392 -160 R0
SYMATTR InstName L2
SYMATTR Value 2.2µ
SYMATTR Type ind
SYMBOL res 1024 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 56
SYMBOL cap 1312 -64 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 4n
SYMBOL res 1232 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 560
SYMBOL ind 1120 80 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L3
SYMATTR Value 2.2µ
SYMBOL ind 1120 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 1n
SYMBOL ind2 720 112 R0
SYMATTR InstName L6
SYMATTR Value 8.8µ
SYMATTR Type ind
SYMBOL nmos 560 288 R0
SYMATTR InstName M2
SYMATTR Value RD16HHF1
SYMBOL ind2 592 112 R0
SYMATTR InstName L7
SYMATTR Value 2.2µ
SYMATTR Type ind
SYMBOL res 320 384 R0
SYMATTR InstName R3
SYMATTR Value 10K
SYMBOL ind2 592 -128 R0
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 16 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL cap 816 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL cap 496 -224 R0
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL ind2 384 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 672 R0
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL cap 320 656 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL ind2 1008 272 R0
SYMATTR InstName RFC4
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 912 416 R0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL cap 912 240 R0
SYMATTR InstName C14
SYMATTR Value .1µ
SYMBOL cap 112 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL ind 384 384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 1n
SYMBOL res 304 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 56
SYMBOL voltage 624 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {BM2}
TEXT 848 -72 Left 2 !.tran 0 20u 15u
TEXT 2160 -560 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V5)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Idr1 RMS Id(M1)\n.meas TRAN Igr1 RMS Ig(M1)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vbiasr1 RMS V(Vbias1)\n.meas TRAN Vppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vpr1 PARAM Vgmax1-Vgs1\n.meas TRAN Cd1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr2 RMS V(Vg2)\n.meas TRAN Vdr2 RMS V(Vd2)\n.meas TRAN Idr2 RMS Id(M2)\n.meas TRAN Igr2 RMS Ig(M2)\n.meas TRAN Vgavg2 AVG V(Vg2)\n.meas TRAN Vgmax2 MAX V(Vg2)\n.meas TRAN Vgmin2 MIN V(Vg2)\n.meas TRAN Vbiasr2 RMS V(Vbias2)\n.meas TRAN Vppr2 PARAM Vgmax2-Vgmin2\n.meas TRAN Vpr2 PARAM Vgmax2-Vgs2\n.meas TRAN Cd2 PARAM Vpr2/Vppr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis1 AVG (V(vd1)*Id(m1) + V(vg1)*Ig(m1))\n.meas TRAN Pdis2 AVG (V(vd2)*Id(m2) + V(vg2)*Ig(m2))\n \n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout1 PARAM Vdr1/Idr1\n.meas TRAN Zout2 PARAM Vdr2/Idr2\n.meas TRAN CdAngle1 PARAM Cd1*360\n.meas TRAN CdAngle2 PARAM Cd2*360\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pdis PARAM Pdis1+Pdis2\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gi PARAM 20*log10(Ioutr/Iinr)\n.meas TRAN Beta1 PARAM Idr1/Igr1\n.meas TRAN Beta2 PARAM Idr2/Igr2\n \n.four {F} 4 -1 V(Vout)
TEXT -240 -544 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list  3.7Meg 14.1Meg 28.7Meg\n.param F 30Meg\n.param S 0.35\n.param BM1 4.52\n.param BM2 3.8\n;.step param B 3.5 5 .25\n.param Z 50\n.param Vgs1 3.6\n.param Vgs2 3.6
TEXT 1256 -152 Left 2 !K1 L1 L2 1
TEXT 696 24 Left 2 !K2 L7 L6 1
