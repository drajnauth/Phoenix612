Version 4
SHEET 1 3060 1616
WIRE 496 -176 256 -176
WIRE 608 -176 496 -176
WIRE 496 -160 496 -176
WIRE 256 -144 256 -176
WIRE 496 -80 496 -96
WIRE 256 -48 256 -64
WIRE 608 -48 608 -176
WIRE 608 80 608 32
WIRE 608 80 512 80
WIRE 512 96 512 80
WIRE 608 128 608 80
WIRE 704 128 704 112
WIRE 512 176 512 160
WIRE 608 240 608 208
WIRE 880 240 608 240
WIRE 1152 240 880 240
WIRE 1408 240 1152 240
WIRE 1488 240 1472 240
WIRE 1552 240 1488 240
WIRE 608 272 608 240
WIRE 880 272 880 240
WIRE 1152 272 1152 240
WIRE 1488 272 1488 240
WIRE 608 368 608 352
WIRE 608 368 560 368
WIRE 880 368 880 352
WIRE 880 368 800 368
WIRE 1152 368 1152 352
WIRE 1152 368 1088 368
WIRE 608 384 608 368
WIRE 1488 384 1488 352
WIRE 800 448 736 448
WIRE 832 448 800 448
WIRE 1104 448 1072 448
WIRE 16 464 0 464
WIRE 272 464 16 464
WIRE 416 464 336 464
WIRE 432 464 416 464
WIRE 528 464 512 464
WIRE 560 464 528 464
WIRE 736 464 736 448
WIRE 0 480 0 464
WIRE 1072 480 1072 448
WIRE 336 544 336 464
WIRE 0 576 0 560
WIRE 416 592 416 464
WIRE 736 592 736 544
WIRE 736 592 416 592
WIRE 1072 592 1072 560
WIRE 1072 592 736 592
WIRE 880 640 880 464
WIRE 1152 640 1152 464
WIRE 608 656 608 480
WIRE 336 720 336 624
WIRE 400 720 336 720
WIRE 512 720 480 720
WIRE 576 720 512 720
WIRE 624 720 576 720
WIRE 336 752 336 720
WIRE 624 752 624 720
WIRE 512 768 512 720
WIRE 336 832 336 816
WIRE 512 848 512 832
WIRE 624 848 624 832
FLAG 256 -48 0
FLAG 1488 384 0
FLAG 1552 240 Vout
FLAG 0 576 0
FLAG 16 464 Vin
FLAG 608 656 0
FLAG 528 464 Vg2
FLAG 560 368 Vd2
FLAG 512 176 0
FLAG 512 848 0
FLAG 336 832 0
FLAG 624 848 0
FLAG 576 720 Vbias
FLAG 496 -80 0
FLAG 880 640 0
FLAG 800 448 Vg1
FLAG 800 368 Vd1
FLAG 1152 640 0
FLAG 1072 448 Vg3
FLAG 1088 368 Vd3
SYMBOL voltage 256 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 1472 256 R0
SYMATTR InstName Rout
SYMATTR Value {R}
SYMBOL voltage 0 464 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMATTR InstName V5
SYMATTR Value SINE(0 {S} {F})
SYMBOL nmos 560 384 R0
SYMATTR InstName M2
SYMATTR Value 2N7000
SYMBOL ind2 592 112 R0
SYMATTR InstName L7
SYMATTR Value 218µ
SYMATTR Type ind
SYMBOL res 320 528 R0
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMBOL ind2 592 -64 R0
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 96 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL cap 1408 256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL ind2 384 736 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 768 R0
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL cap 320 752 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL voltage 624 736 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {BM2}
SYMBOL ind2 688 112 R0
SYMATTR InstName L6
SYMATTR Value 22µ
SYMATTR Type ind
SYMBOL cap 480 -160 R0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL cap 272 480 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C14
SYMATTR Value .1µ
SYMBOL nmos 832 368 R0
SYMATTR InstName M1
SYMATTR Value 2N7000
SYMBOL nmos 1104 368 R0
SYMATTR InstName M3
SYMATTR Value 2N7000
SYMBOL res 592 256 R0
SYMATTR InstName R2
SYMATTR Value .001
SYMBOL res 864 256 R0
SYMATTR InstName R4
SYMATTR Value .001
SYMBOL res 1136 256 R0
SYMATTR InstName R5
SYMATTR Value .001
SYMBOL res 1056 464 R0
SYMATTR InstName R6
SYMATTR Value .001
SYMBOL res 720 448 R0
SYMATTR InstName R7
SYMATTR Value .001
SYMBOL res 528 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value .001
TEXT 200 344 Left 2 !.tran 0 20u 19u
TEXT -544 40 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list  3.7Meg 14.1Meg 28.7Meg\n.param F 30Meg\n.param S 0.5\n.param BM2 2.3\n;.step param BM2 1.7 4 .2\n;.step param R 50 150 10\n.param R 100\n.param Z 1\n.param Vgs1 3.6\n.param Vgs2 2.1\n.param Vgs 1.9
TEXT 696 24 Left 2 ;K2 L7 L6 1
TEXT 1800 -344 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V5)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Idr1 RMS Id(M1)\n.meas TRAN Igr1 RMS Ig(M1)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vbiasr RMS V(Vbias)\n.meas TRAN Vppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vpr1 PARAM Vgmax1-Vgs\n.meas TRAN Cd1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr 2RMS V(Vg2)\n.meas TRAN Vdr2 RMS V(Vd2)\n.meas TRAN Idr2 RMS Id(M2)\n.meas TRAN Igr2 RMS Ig(M2)\n.meas TRAN Vgavg2 AVG V(Vg2)\n.meas TRAN Vgmax2 MAX V(Vg2)\n.meas TRAN Vgmin2 MIN V(Vg2)\n.meas TRAN Vppr2 PARAM Vgmax2-Vgmin2\n.meas TRAN Vpr2 PARAM Vgmax2-Vgs\n.meas TRAN Cd2 PARAM Vpr2/Vppr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr3 RMS V(Vg3)\n.meas TRAN Vdr3 RMS V(Vd3)\n.meas TRAN Idr3 RMS Id(M3)\n.meas TRAN Igr3 RMS Ig(M3)\n.meas TRAN Vgavg3 AVG V(Vg3)\n.meas TRAN Vgmax3 MAX V(Vg3)\n.meas TRAN Vgmin3 MIN V(Vg3)\n.meas TRAN Vppr3 PARAM Vgmax3-Vgmin3\n.meas TRAN Vpr3 PARAM Vgmax3-Vgs\n.meas TRAN Cd3 PARAM Vpr3/Vppr3\n;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis1 AVG (V(vd1)*Id(m1) + V(vg1)*Ig(m1))\n.meas TRAN Pdis2 AVG (V(vd2)*Id(m2) + V(vg2)*Ig(m2))\n.meas TRAN Pdis3 AVG (V(vd3)*Id(m3) + V(vg3)*Ig(m3))\n.meas TRAN Pdis PARAM Pdis1+Pdis2+Pdis3\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout1 PARAM Vdr1/Idr1\n.meas TRAN Zout2 PARAM Vdr3/Idr2\n.meas TRAN Zout3 PARAM Vdr3/Idr3\n.meas TRAN CdAngle1 PARAM Cd1*360\n.meas TRAN CdAngle2 PARAM Cd2*360\n.meas TRAN CdAngle3 PARAM Cd3*360\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Rv PARAM Voutr/Vinr\n.meas TRAN Rp PARAM Pout/Pin\n.meas TRAN Gp PARAM 10*log10(Rp)\n.meas TRAN Gv PARAM 20*log10(Rv)\n.meas TRAN Gi PARAM 20*log10(Ioutr/Iinr)\n.meas TRAN Beta1 PARAM Idr1/Igr1\n.meas TRAN Beta2 PARAM Idr2/Igr2\n.meas TRAN Beta3 PARAM Idr3/Igr3\n \n.four {F} 4 -1 V(Vout)
