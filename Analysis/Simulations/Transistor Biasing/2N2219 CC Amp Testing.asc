Version 4
SHEET 1 2140 1880
WIRE -176 -32 -224 -32
WIRE 192 -32 -96 -32
WIRE 240 -32 192 -32
WIRE 384 -32 240 -32
WIRE 464 -32 384 -32
WIRE -224 0 -224 -32
WIRE 464 0 464 -32
WIRE -224 112 -224 80
WIRE 192 128 192 -32
WIRE 464 128 464 80
WIRE 512 128 464 128
WIRE 464 192 464 128
WIRE 464 224 464 192
WIRE -128 272 -224 272
WIRE 192 272 192 208
WIRE 192 272 -64 272
WIRE 384 272 192 272
WIRE 400 272 384 272
WIRE -224 304 -224 272
WIRE 192 320 192 272
WIRE -224 368 -224 304
WIRE 464 368 464 320
WIRE 480 368 464 368
WIRE 512 368 480 368
WIRE 864 368 576 368
WIRE 464 384 464 368
WIRE 864 384 864 368
WIRE 192 416 192 400
WIRE -224 464 -224 448
WIRE 464 480 464 464
WIRE 864 480 864 464
FLAG 464 480 0
FLAG -224 112 0
FLAG -224 464 0
FLAG -224 304 Vin
FLAG 384 272 Vb1
FLAG 464 192 Vc1
FLAG 480 368 Ve1
FLAG 240 32 0
FLAG 192 416 0
FLAG 384 32 0
FLAG 864 480 0
FLAG 512 192 0
FLAG 864 368 Vout
SYMBOL voltage -224 -16 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vcc
SYMATTR Value 12
SYMBOL res 448 368 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL npn 400 224 R0
SYMATTR InstName Q1
SYMATTR Value 2N2219A
SYMBOL res -80 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 10R
SYMBOL voltage -224 352 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName Vi
SYMATTR Value SINE(0 {S} {F})
SYMATTR SpiceLine Rser={Z}
SYMBOL cap 224 -32 R0
SYMATTR InstName C1
SYMATTR Value 100µ
SYMBOL cap -64 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 176 112 R0
SYMATTR InstName Rb1
SYMATTR Value 4788
SYMBOL res 176 304 R0
SYMATTR InstName Rb2
SYMATTR Value 2099
SYMBOL cap 368 -32 R0
WINDOW 0 -28 15 Left 2
WINDOW 3 -38 41 Left 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap 576 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL res 848 368 R0
SYMATTR InstName Rload
SYMATTR Value 100
SYMBOL ind2 448 -16 R0
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 128 R0
SYMATTR InstName C4
SYMATTR Value .1µ
TEXT 1032 -680 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Ioutr RMS I(Rload)\n.meas TRAN Iinr RMS I(Vi)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vb1r RMS V(Vb1)\n.meas TRAN Vc1r RMS V(Vc1)\n.meas TRAN Ve1r RMS V(Ve1)\n.meas TRAN Ic1r RMS Ic(Q1)\n.meas TRAN Ib1r RMS Ib(Q1)\n.meas TRAN Ie1r RMS Ie(Q1)\n.meas TRAN Vb1avg AVG V(Vb1)\n.meas TRAN Vb1max MAX V(Vb1)\n.meas TRAN Vb1min MIN V(Vb1)\n.meas TRAN Vpp1r PARAM Vb1max-Vb1min\n.meas TRAN Vp1r PARAM Vb1max-Vbe\n.meas TRAN Cd1 PARAM Vp1r/Vpp1r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN PQ1dis AVG (V(Vc1,Ve1)*Ic(Q1) + V(Vb1,Ve1)*Ib(Q1))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Voutr/Ioutr \n.meas TRAN ZQ1in PARAM Vb1r/Ib1r \n.meas TRAN ZQ1out PARAM Ve1r/Ie1r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Q1Angle PARAM Cd1*360\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rload))\n.meas TRAN Pmar PARAM Pout-PQ1dis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gpr PARAM (Pout/Pin)\n.meas TRAN Gvr PARAM (Voutr/Vinr)\n.meas TRAN Gir PARAM (Ioutr/Iinr)\n.meas TRAN Gp PARAM 10*log10(Gpr)\n.meas TRAN Gv PARAM 20*log10(Gvr)\n.meas TRAN Gi PARAM 20*log10(Gir)\n.meas TRAN Beta PARAM Ic1r/Ib1r\n \n.four {F} 4 -1 V(Vout)
TEXT -48 -208 Left 2 !.tran 0 10u
TEXT -32 -392 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list 3.7Meg 14.1Meg 28.7Meg\n.param F 28.7Meg\n.param S 1\n.param Z 1\n.param Vbe 0.68
TEXT -40 -152 Left 2 ;.ac dec 100 1Meg 40Meg
