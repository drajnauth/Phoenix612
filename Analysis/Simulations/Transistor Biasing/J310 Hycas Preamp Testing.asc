Version 4
SHEET 1 3300 1556
WIRE 288 -480 32 -480
WIRE 32 -464 32 -480
WIRE 288 -432 288 -480
WIRE 32 -352 32 -384
WIRE 288 -336 288 -352
WIRE 288 -336 144 -336
WIRE 144 -320 144 -336
WIRE 288 -288 288 -336
WIRE 288 -288 208 -288
WIRE 512 -272 384 -272
WIRE 624 -272 576 -272
WIRE 688 -272 624 -272
WIRE 208 -256 208 -288
WIRE 288 -256 288 -288
WIRE 384 -256 384 -272
WIRE 624 -240 624 -272
WIRE 144 -224 144 -256
WIRE 384 -144 384 -176
WIRE 208 -128 208 -176
WIRE 288 -128 288 -176
WIRE 288 -128 208 -128
WIRE 624 -128 624 -160
WIRE 288 -96 288 -128
WIRE 288 -80 288 -96
WIRE 32 -32 -80 -32
WIRE 160 -32 112 -32
WIRE 224 -32 160 -32
WIRE -80 0 -80 -32
WIRE 160 64 160 32
WIRE 288 80 288 16
WIRE -80 96 -80 80
WIRE 288 112 288 80
WIRE 16 176 -96 176
WIRE 160 176 80 176
WIRE 240 176 160 176
WIRE -96 208 -96 176
WIRE 160 208 160 176
WIRE 288 224 288 208
WIRE 368 224 288 224
WIRE 368 240 368 224
WIRE 288 288 288 224
WIRE 368 320 368 304
WIRE -96 336 -96 288
WIRE 160 336 160 288
WIRE 288 448 288 368
WIRE 384 448 352 448
WIRE 480 448 448 448
WIRE 608 448 544 448
WIRE 608 496 608 448
FLAG 368 320 0
FLAG 32 -352 0
FLAG 160 64 0
FLAG 608 496 0
FLAG -80 96 0
FLAG 144 -224 0
FLAG 624 -128 0
FLAG 688 -272 Vout
FLAG -96 336 0
FLAG -96 176 Vin
FLAG -48 208 0
FLAG 160 336 0
FLAG 160 176 Vg1
FLAG 288 224 Vs1
FLAG 384 -144 0
FLAG 288 80 Vd1
FLAG 288 -96 Vc1
SYMBOL res 144 192 R0
SYMATTR InstName R1
SYMATTR Value 2.2K
SYMBOL cap 80 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 34 37 VTop 2
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 272 272 R0
SYMATTR InstName R2
SYMATTR Value 180
SYMBOL cap 352 240 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL diode 288 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 384 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 480 464 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL voltage 32 -480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL ind2 272 -272 R0
SYMATTR InstName L1
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL ind2 368 -272 R0
SYMATTR InstName L2
SYMATTR Value 30µ
SYMATTR Type ind
SYMBOL npn 224 -80 R0
SYMATTR InstName Q1
SYMATTR Value 2N3904
SYMBOL cap 144 -32 R0
SYMATTR InstName C4
SYMATTR Value .01µ
SYMBOL res 128 -48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1K
SYMBOL njf 240 112 R0
SYMATTR InstName J1
SYMATTR Value J310
SYMBOL voltage -80 -16 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vbias
SYMATTR Value {V}
SYMBOL res 272 -448 R0
SYMATTR InstName R11
SYMATTR Value 47
SYMBOL cap 128 -320 R0
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL res 608 -256 R0
SYMATTR InstName Rout
SYMATTR Value 2K
SYMBOL voltage -96 192 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 149 Left 2
WINDOW 39 -214 121 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMBOL cap 512 -256 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res 192 -272 R0
SYMATTR InstName R3
SYMATTR Value 3.3K
TEXT -384 -128 Left 2 ;.ac dec 100 1Meg 40Meg
TEXT 304 -296 Left 2 !K1 L1 L2 1
TEXT -376 -168 Left 2 !.tran 0 10u 8u
TEXT 480 -336 Left 2 ;Orig 16T:2T FB37-43
TEXT 1328 -424 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Vsr1 RMS V(Vs1)\n.meas TRAN Igr1 RMS Ig(J1)\n.meas TRAN Isr1 RMS Is(J1)\n.meas TRAN Idr1 RMS Id(J1)\n.meas TRAN Vcr1 RMS V(Vc1)\n.meas TRAN Icr1 RMS Ic(Q1)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vpr1 PARAM Vgmax1-Vgsoff\n.meas TRAN Cd1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis1 AVG (V(Vd1,Vs1)*Id(J1)+V(Vg1,Vs1)*Ig(J1))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Vcr1/Icr1\n.meas TRAN Cd1Angle PARAM Cd1*360\n.meas TRAN Pin AVG (Zin*I(V1)*I(V1))\n .meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis1\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gvr1 PARAM (Voutr/Vgr1)\n.meas TRAN Gpr PARAM (Pout/Pin)\n.meas TRAN Gvr PARAM (Voutr/Vinr)\n.meas TRAN Gp PARAM 10*log10(Gpr)\n.meas TRAN Gv PARAM 20*log10(Gvr)\n \n \n.four {F} 4 -1 V(Vout)
TEXT 416 -40 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list 3.7Meg  7.1Meg 1 14.1Meg  28.7Meg\n.param F 28.7Meg\n.param S .005\n.param V 4.2\n;.step param R 1K 50K 1K\n;.step param L 25u 40u 2u\n;.step param V 4 5 .1\n.param Z 1\n.param Vgsoff -3.4\n.param Vbe 0.68
