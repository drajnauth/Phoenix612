Version 4
SHEET 1 3060 1616
WIRE 16 -176 -32 -176
WIRE 256 -176 16 -176
WIRE 496 -176 256 -176
WIRE 608 -176 496 -176
WIRE 16 -160 16 -176
WIRE 496 -160 496 -176
WIRE 256 -144 256 -176
WIRE 16 -80 16 -96
WIRE 496 -80 496 -96
WIRE -32 -64 -32 -176
WIRE 256 -48 256 -64
WIRE 608 -48 608 -176
WIRE -720 80 -752 80
WIRE -624 80 -640 80
WIRE -608 80 -624 80
WIRE -416 80 -528 80
WIRE -368 80 -416 80
WIRE -32 80 -32 16
WIRE -32 80 -368 80
WIRE 32 80 -32 80
WIRE 608 80 608 32
WIRE 608 80 512 80
WIRE 512 96 512 80
WIRE -752 112 -752 80
WIRE -368 112 -368 80
WIRE 32 112 32 80
WIRE -624 128 -624 80
WIRE -624 128 -688 128
WIRE 608 128 608 80
WIRE 704 128 704 112
WIRE 512 176 512 160
WIRE -368 192 -368 176
WIRE 32 192 32 176
WIRE -688 208 -688 192
WIRE -624 240 -624 128
WIRE 608 256 608 208
WIRE 832 256 608 256
WIRE 912 256 896 256
WIRE 976 256 912 256
WIRE 608 272 608 256
WIRE 608 288 608 272
WIRE 912 288 912 256
WIRE -32 336 -32 80
WIRE -416 352 -416 80
WIRE -64 352 -96 352
WIRE -448 368 -480 368
WIRE 80 368 0 368
WIRE 112 368 80 368
WIRE 272 368 256 368
WIRE 528 368 336 368
WIRE 560 368 528 368
WIRE -352 384 -384 384
WIRE -256 384 -352 384
WIRE -64 384 -176 384
WIRE -944 400 -960 400
WIRE -704 400 -944 400
WIRE -624 400 -624 320
WIRE -624 400 -640 400
WIRE -592 400 -624 400
WIRE -448 400 -512 400
WIRE 336 400 336 368
WIRE 912 400 912 368
WIRE -960 416 -960 400
WIRE -32 416 -32 400
WIRE 608 416 608 384
WIRE -416 432 -416 416
WIRE -480 496 -480 368
WIRE -448 496 -480 496
WIRE -352 496 -352 384
WIRE -352 496 -368 496
WIRE -96 496 -96 352
WIRE -64 496 -96 496
WIRE 80 496 80 368
WIRE 80 496 16 496
WIRE -960 512 -960 496
WIRE -480 528 -480 496
WIRE -96 528 -96 496
WIRE -480 624 -480 608
WIRE -96 624 -96 608
WIRE 336 624 336 480
WIRE 400 624 336 624
WIRE 512 624 480 624
WIRE 576 624 512 624
WIRE 624 624 576 624
WIRE 336 656 336 624
WIRE 624 656 624 624
WIRE 512 672 512 624
WIRE -480 704 -480 688
WIRE -96 704 -96 688
WIRE 336 736 336 720
WIRE 512 752 512 736
WIRE 624 752 624 736
FLAG 256 -48 0
FLAG 912 400 0
FLAG 976 256 Vout
FLAG -960 512 0
FLAG -944 400 Vin
FLAG 608 416 0
FLAG 528 368 Vg2
FLAG 608 272 Vd2
FLAG 512 176 0
FLAG 16 -80 0
FLAG 512 752 0
FLAG 336 736 0
FLAG 624 752 0
FLAG 576 624 Vbias2
FLAG -368 192 0
FLAG -688 208 0
FLAG -416 432 0
FLAG -32 416 0
FLAG -96 704 0
FLAG 32 192 0
FLAG -752 112 0
FLAG -480 704 0
FLAG 496 -80 0
SYMBOL voltage 256 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 896 272 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL voltage -960 400 R0
WINDOW 123 24 124 Left 2
WINDOW 39 24 152 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMATTR InstName V5
SYMATTR Value SINE(0 {S} {F})
SYMBOL nmos 560 288 R0
SYMATTR InstName M2
SYMATTR Value 2N7000
SYMBOL ind2 592 112 R0
SYMATTR InstName L7
SYMATTR Value 218µ
SYMATTR Type ind
SYMBOL res 320 384 R0
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMBOL ind2 592 -64 R0
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 96 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL cap 832 272 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL cap 0 -160 R0
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL ind2 384 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 496 672 R0
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL cap 320 656 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL cap 192 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL voltage 624 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value {BM2}
SYMBOL ind2 688 112 R0
SYMATTR InstName L6
SYMATTR Value 22µ
SYMATTR Type ind
SYMBOL Opamps\\LT1253 -416 320 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1253 -32 304 R0
SYMATTR InstName U2
SYMBOL res -640 224 R0
SYMATTR InstName R1
SYMATTR Value 50
SYMBOL res -512 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1K
SYMBOL res -624 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1K
SYMBOL res -496 384 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 9K
SYMBOL res 32 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 620
SYMBOL res -352 480 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 620
SYMBOL res -464 624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R8
SYMATTR Value 68
SYMBOL res -80 624 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 68
SYMBOL cap -496 624 R0
WINDOW 0 36 38 Left 2
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap -112 624 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL cap -704 128 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap -384 112 R0
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL cap 16 112 R0
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL cap -640 384 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value 100n
SYMBOL res -160 368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 9K
SYMBOL res 208 352 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 50
SYMBOL cap 480 -160 R0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL ind2 -48 -80 R0
SYMATTR InstName RFC3
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 272 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C14
SYMATTR Value .1µ
TEXT 200 248 Left 2 !.tran 0 20u 19u
TEXT 1320 -272 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V5)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr2 RMS V(Vg2)\n.meas TRAN Vdr2 RMS V(Vd2)\n.meas TRAN Idr2 RMS Id(M2)\n.meas TRAN Igr2 RMS Ig(M2)\n.meas TRAN Vgavg2 AVG V(Vg2)\n.meas TRAN Vgmax2 MAX V(Vg2)\n.meas TRAN Vgmin2 MIN V(Vg2)\n.meas TRAN Vbiasr2 RMS V(Vbias2)\n.meas TRAN Vppr2 PARAM Vgmax2-Vgmin2\n.meas TRAN Vpr2 PARAM Vgmax2-Vgs2\n.meas TRAN Cd2 PARAM Vpr2/Vppr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis2 AVG (V(vd2)*Id(m2) + V(vg2)*Ig(m2))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Vdr2/Idr2\n.meas TRAN CdAngle2 PARAM Cd2*360\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pdis PARAM Pdis2\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gi PARAM 20*log10(Ioutr/Iinr)\n.meas TRAN Beta2 PARAM Idr2/Igr2\n \n.four {F} 4 -1 V(Vout)
TEXT 952 -456 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list  3.7Meg 14.1Meg 28.7Meg\n.param F 30Meg\n.param S 0.01\n.param BM2 2.3\n;.step param BM2 2.2 4 .2\n;.step param R 50 500 50\n.param Z 50\n.param Vgs1 3.6\n.param Vgs2 2.1
TEXT 696 24 Left 2 ;K2 L7 L6 1
