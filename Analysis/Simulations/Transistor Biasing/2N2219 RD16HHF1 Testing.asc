Version 4
SHEET 1 2764 1496
WIRE -960 -160 -1040 -160
WIRE -848 -160 -960 -160
WIRE -784 -160 -848 -160
WIRE -704 -160 -784 -160
WIRE -528 -160 -624 -160
WIRE -480 -160 -528 -160
WIRE -448 -160 -480 -160
WIRE -144 -160 -448 -160
WIRE -48 -160 -64 -160
WIRE 384 -160 -48 -160
WIRE -48 -144 -48 -160
WIRE 480 -144 448 -144
WIRE -960 -128 -960 -160
WIRE -848 -128 -848 -160
WIRE -528 -128 -528 -160
WIRE -448 -128 -448 -160
WIRE -1040 -112 -1040 -160
WIRE 384 -112 384 -160
WIRE 480 -112 480 -144
WIRE -48 -64 -48 -80
WIRE -960 -48 -960 -64
WIRE -848 -48 -848 -64
WIRE -528 -48 -528 -64
WIRE -448 -48 -448 -64
WIRE -320 -32 -368 -32
WIRE -224 -32 -256 -32
WIRE -1040 -16 -1040 -32
WIRE 112 -16 80 -16
WIRE 224 -16 192 -16
WIRE 320 -16 288 -16
WIRE 384 -16 384 -32
WIRE 384 -16 320 -16
WIRE 480 -16 480 -32
WIRE 544 -16 480 -16
WIRE 672 -16 608 -16
WIRE 704 -16 672 -16
WIRE -224 0 -224 -32
WIRE 384 0 384 -16
WIRE 448 0 448 -144
WIRE 448 0 384 0
WIRE 672 0 672 -16
WIRE -784 16 -784 -160
WIRE -480 16 -480 -160
WIRE -368 16 -368 -32
WIRE 80 16 80 -16
WIRE 320 32 320 -16
WIRE 320 48 320 32
WIRE 672 96 672 80
WIRE -480 128 -480 96
WIRE -480 128 -528 128
WIRE -368 128 -368 96
WIRE -224 128 -224 80
WIRE -176 128 -224 128
WIRE -96 128 -112 128
WIRE 0 128 -16 128
WIRE 80 128 80 96
WIRE 80 128 0 128
WIRE 112 128 80 128
WIRE 240 128 192 128
WIRE 272 128 240 128
WIRE -480 160 -480 128
WIRE 0 176 0 128
WIRE -960 208 -1376 208
WIRE -912 208 -960 208
WIRE -784 208 -784 96
WIRE -784 208 -848 208
WIRE -608 208 -784 208
WIRE -544 208 -608 208
WIRE -1376 240 -1376 208
WIRE -784 256 -784 208
WIRE 0 272 0 256
WIRE 0 272 -48 272
WIRE 112 272 0 272
WIRE -480 304 -480 256
WIRE -448 304 -480 304
WIRE -352 304 -384 304
WIRE 0 304 0 272
WIRE 112 304 112 272
WIRE 320 320 320 144
WIRE -1376 336 -1376 320
WIRE -480 336 -480 304
WIRE -352 336 -352 304
WIRE -784 352 -784 336
WIRE 0 400 0 368
WIRE 112 400 112 384
WIRE -480 464 -480 416
WIRE -352 464 -352 416
WIRE -352 464 -480 464
WIRE -480 496 -480 464
FLAG -960 -48 0
FLAG -1040 -16 0
FLAG -1376 336 0
FLAG -784 352 0
FLAG -480 496 0
FLAG 704 -16 Vout
FLAG 672 96 0
FLAG -528 -48 0
FLAG -448 -48 0
FLAG -608 208 Vb1
FLAG -480 304 Ve1
FLAG -960 208 Vin
FLAG -528 128 Vc1
FLAG -848 -48 0
FLAG -480 -160 Vcc
FLAG -368 128 0
FLAG 112 400 0
FLAG 320 320 0
FLAG 240 128 Vg1
FLAG 320 32 Vd1
FLAG 0 400 0
FLAG -48 272 Vbias
FLAG -48 -64 0
FLAG -224 128 Vs1
SYMBOL voltage -1376 224 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMBOL voltage -1040 -128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res -800 0 R0
SYMATTR InstName Rb1
SYMATTR Value 1.3K
SYMBOL res -800 240 R0
SYMATTR InstName Rb2
SYMATTR Value 326
SYMBOL res -496 320 R0
SYMATTR InstName Re
SYMATTR Value 20
SYMBOL cap -976 -128 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 656 -16 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL cap -544 -128 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL cap -464 -128 R0
SYMATTR InstName C5
SYMATTR Value .1µ
SYMBOL cap -848 192 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL npn -544 160 R0
WINDOW 0 104 28 Left 2
SYMATTR InstName Q1
SYMATTR Value 2N2219A
SYMBOL ind2 -720 -144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap -864 -128 R0
SYMATTR InstName C8
SYMATTR Value 1µ
SYMBOL ind2 -496 0 R0
SYMATTR InstName L1
SYMATTR Value 88µ
SYMATTR Type ind
SYMBOL cap -384 288 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res -368 320 R0
SYMATTR InstName R1
SYMATTR Value 15
SYMBOL ind2 -384 0 R0
SYMATTR InstName L2
SYMATTR Value 11µ
SYMATTR Type ind
SYMBOL cap -112 112 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL voltage 112 288 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {B}
SYMBOL res -16 160 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL cap 544 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL nmos 272 48 R0
SYMATTR InstName M1
SYMATTR Value RD16HHF1
SYMBOL cap -16 304 R0
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL ind2 464 -128 R0
SYMATTR InstName L4
SYMATTR Value 8.8µ
SYMATTR Type ind
SYMBOL ind2 368 -128 R0
SYMATTR InstName L3
SYMATTR Value 2.2µ
SYMATTR Type ind
SYMBOL res 0 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 56
SYMBOL cap 288 -32 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C11
SYMATTR Value 4n
SYMBOL res 208 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 560
SYMBOL ind 96 112 R180
WINDOW 0 36 80 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName L6
SYMATTR Value 2.2µ
SYMBOL ind 96 144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMATTR Value 1n
SYMBOL ind -160 -144 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMBOL cap -64 -144 R0
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap -256 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value .1µ
SYMBOL res -240 -16 R0
SYMATTR InstName Rsense1
SYMATTR Value 0.001
TEXT 104 -264 Left 2 !.tran 0 20u 15u
TEXT 816 -888 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vbr1 RMS V(Vb1)\n.meas TRAN Vcr1 RMS V(Vc1)\n.meas TRAN Ibr1 RMS Ib(Q1)\n.meas TRAN Icr1 RMS Ic(Q1)\n.meas TRAN Vbavg1 AVG V(Vb1)\n.meas TRAN Vbmax1 MAX V(Vb1)\n.meas TRAN Vbmin1 MIN V(Vb1)\n.meas TRAN Vppr1 PARAM Vbmax1-Vbmin1\n.meas TRAN Vpr1 PARAM Vbmax1-Vbe\n.meas TRAN CdQ1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Idr1 RMS Id(M1)\n.meas TRAN Igr1 RMS Ig(m1)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vbiasr RMS V(Vbias)\n.meas TRAN Vgppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vgpr1 PARAM Vgmax1-Vgs\n.meas TRAN CdM1 PARAM Vgpr1/Vgppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN PdisQ1 AVG (V(Vc1,Ve1)*Ic(Q1) + V(Vb1,Ve1)*Ib(Q1))\n.meas TRAN PdisM1 AVG (V(vd1)*Id(m1) + V(vg1)*Ig(m1))\n.meas TRAN Pdis PARAM PdisQ1+PdisM1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vsr1 RMS V(Vs1)\n.meas TRAN Isr1 RMS I(Rsense1)\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN ZinM1 PARAM Vsr1/Isr1 \n.meas TRAN ZoutQ1 PARAM Vcr1/Icr1\n.meas TRAN ZoutM1 PARAM Vdr1/Idr1\n.meas TRAN CdQ1Angle PARAM CdQ1*360\n.meas TRAN Cd1MAngle PARAM CdM1*360\n.meas TRAN Pin AVG (Zin*I(V1)*I(V1))\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN G PARAM Voutr/Vinr\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gi PARAM 20*log10(Iinr/Ioutr)\n.meas TRAN BetaQ1 PARAM Icr1/Ibr1\n \n.four {F} 4 -1 V(Vout)
TEXT -336 -512 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n.step param F list 3.7Meg 14.1Meg 28.7Meg\n;.param F 30Meg\n;.step param S .05 0.45 0.05\n;.step param L 11u 110u 11u\n;.step param R 200 425 25\n.param S .2\n.param B 4.2\n.param Z 1\n.param Vbe 0.68\n.param Vgs 3.6
TEXT 96 -288 Left 2 ;.ac dec 1000 1Meg 30Meg
TEXT -336 -104 Left 2 !K1 L1 L2 1
TEXT 232 -120 Left 2 !K2 L3 L4 1
