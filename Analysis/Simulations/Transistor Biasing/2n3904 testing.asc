Version 4
SHEET 1 1632 1496
WIRE 752 -272 752 -320
WIRE 112 -176 -48 -176
WIRE 416 -176 288 -176
WIRE 752 -176 752 -192
WIRE -48 -128 -48 -176
WIRE 288 -128 288 -176
WIRE 416 -64 416 -176
WIRE -48 -32 -48 -48
WIRE 288 -32 288 -48
WIRE 112 0 112 -176
WIRE 416 64 416 16
WIRE 608 64 416 64
WIRE 736 64 672 64
WIRE 768 64 736 64
WIRE 768 80 768 64
WIRE 416 112 416 64
WIRE 416 144 416 112
WIRE 768 176 768 160
WIRE -64 192 -208 192
WIRE -16 192 -64 192
WIRE 112 192 112 80
WIRE 112 192 48 192
WIRE 288 192 112 192
WIRE 352 192 288 192
WIRE -208 224 -208 192
WIRE 112 240 112 192
WIRE 416 256 416 240
WIRE 416 288 416 256
WIRE -208 320 -208 304
WIRE 112 336 112 320
WIRE 416 400 416 368
FLAG -48 -32 0
FLAG -208 320 0
FLAG 112 336 0
FLAG 416 400 0
FLAG 736 64 Vout
FLAG 768 176 0
FLAG 288 192 Vb
FLAG 416 256 Ve
FLAG -64 192 Vin
FLAG 416 112 Vc
FLAG 752 -176 0
FLAG 288 -32 0
FLAG -144 224 0
SYMBOL voltage -208 208 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMBOL voltage -48 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 96 -16 R0
SYMATTR InstName R1
SYMATTR Value 687
SYMBOL res 96 224 R0
SYMATTR InstName R2
SYMATTR Value 74
SYMBOL res 400 272 R0
SYMATTR InstName R4
SYMATTR Value 2
SYMBOL ind2 640 -288 R0
SYMATTR InstName L1
SYMATTR Value 22µ
SYMATTR Type ind
SYMBOL res 752 64 R0
SYMATTR InstName Rout
SYMATTR Value 25
SYMBOL cap 48 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL ind2 736 -288 R0
SYMATTR InstName L2
SYMATTR Value 11µ
SYMATTR Type ind
SYMBOL npn 352 144 R0
SYMATTR InstName Q1
SYMATTR Value 2N2222A
SYMBOL voltage 288 -144 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 12
SYMBOL cap 672 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res 400 -80 R0
SYMATTR InstName R5
SYMATTR Value 40
TEXT -384 64 Left 2 !.tran 0 10u 9.5u
TEXT 936 -368 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vbr RMS V(Vb)\n.meas TRAN Vcr RMS V(Vc)\n.meas TRAN Ver RMS V(Ve)\n.meas TRAN Ibr RMS Ib(Q1)\n.meas TRAN Icr RMS Ic(Q1)\n.meas TRAN Ier RMS Ie(Q1)\n.meas TRAN Vbavg AVG V(Vb)\n.meas TRAN Vbmax MAX V(Vb)\n.meas TRAN Vbmin MIN V(Vb)\n.meas TRAN Vppr PARAM Vbmax-Vbmin\n.meas TRAN Vpr PARAM Vbmax-Vbe\n.meas TRAN Cd PARAM Vpr/Vppr\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis AVG (V(Vc,Ve)*Ic(Q1) + V(Vb,Ve)*Ib(Q1))\n \n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Vcr/Icr\n.meas TRAN CdAngle PARAM Cd*360\n.meas TRAN Pin AVG (Zin*I(V1)*I(V1))\n.meas TRAN Re PARAM .026/Icr\n \n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gv1 PARAM (Voutr/Vinr)\n.meas TRAN Beta PARAM (Icr/Ibr)\n \n.four {F} 4 -1 V(Vout)
TEXT -320 -368 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n.param F 30Meg\n.param S 0.45\n.param Z 1\n.param Vbe 0.65
TEXT 456 -112 Left 2 ;K1 L1 L2 1
TEXT -392 104 Left 2 ;.ac dec 1000 1Meg 30Meg
