Version 4
SHEET 1 2500 1496
WIRE -480 -320 -624 -320
WIRE -288 -320 -480 -320
WIRE -80 -320 -288 -320
WIRE 32 -320 -80 -320
WIRE 112 -320 32 -320
WIRE 192 -320 112 -320
WIRE 272 -320 192 -320
WIRE 368 -320 352 -320
WIRE 416 -320 368 -320
WIRE 448 -320 416 -320
WIRE 32 -288 32 -320
WIRE 192 -288 192 -320
WIRE 368 -288 368 -320
WIRE 448 -288 448 -320
WIRE -80 -272 -80 -320
WIRE 32 -208 32 -224
WIRE 192 -208 192 -224
WIRE 368 -208 368 -224
WIRE 448 -208 448 -224
WIRE -80 -176 -80 -192
WIRE 416 -176 416 -320
WIRE -288 -160 -288 -320
WIRE -480 -144 -480 -320
WIRE 336 -64 256 -64
WIRE 416 -64 416 -96
WIRE 416 -64 336 -64
WIRE 480 -64 416 -64
WIRE 672 -64 576 -64
WIRE 800 -64 736 -64
WIRE 832 -64 800 -64
WIRE 800 -48 800 -64
WIRE -288 -32 -288 -80
WIRE -128 -32 -288 -32
WIRE 480 -32 480 -64
WIRE 576 -32 576 -64
WIRE -288 16 -288 -32
WIRE -288 48 -288 16
WIRE 112 48 112 -320
WIRE 800 48 800 32
WIRE -784 96 -832 96
WIRE -720 96 -784 96
WIRE -624 96 -656 96
WIRE -480 96 -480 -64
WIRE -480 96 -544 96
WIRE -368 96 -480 96
WIRE -352 96 -368 96
WIRE 208 96 192 96
WIRE 320 96 288 96
WIRE 416 96 384 96
WIRE 480 96 480 48
WIRE 480 96 416 96
WIRE 576 96 576 48
WIRE -832 112 -832 96
WIRE 416 112 416 96
WIRE 416 144 416 112
WIRE -288 192 -288 144
WIRE -288 192 -352 192
WIRE -272 192 -288 192
WIRE -128 192 -128 -32
WIRE -32 192 -128 192
WIRE 112 192 112 128
WIRE 112 192 32 192
WIRE 288 192 112 192
WIRE 352 192 288 192
WIRE -352 208 -352 192
WIRE -288 208 -288 192
WIRE -832 224 -832 192
WIRE 112 240 112 192
WIRE 416 256 416 240
WIRE 416 272 416 256
WIRE 512 272 416 272
WIRE -352 304 -352 272
WIRE -288 304 -288 288
WIRE -288 304 -352 304
WIRE 416 304 416 272
WIRE -288 320 -288 304
WIRE 512 320 512 272
WIRE 112 336 112 320
WIRE 416 416 416 384
WIRE 512 416 512 384
WIRE 512 416 416 416
WIRE 416 448 416 416
FLAG 192 -208 0
FLAG 32 -208 0
FLAG -80 -176 0
FLAG -832 224 0
FLAG 416 448 0
FLAG 832 -64 Vout
FLAG 800 48 0
FLAG 368 -208 0
FLAG 448 -208 0
FLAG 288 192 Vb
FLAG 416 256 Ve
FLAG -784 96 Vin
FLAG 416 112 Vc
FLAG 112 336 0
FLAG 336 0 0
FLAG 256 0 0
FLAG 576 96 0
FLAG -288 320 0
FLAG -368 96 Vb2
FLAG -288 16 Vc2
FLAG -272 192 Ve2
FLAG -624 -256 0
SYMBOL npn 352 144 R0
SYMATTR InstName Q1
SYMATTR Value 2SC5706
SYMBOL voltage -832 96 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -218 104 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser=50
SYMBOL voltage -80 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 96 32 R0
SYMATTR InstName R1
SYMATTR Value 450
SYMBOL cap 176 -288 R0
SYMATTR InstName C1
SYMATTR Value 1µ
SYMBOL cap 16 -288 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL cap 736 -80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL ind2 464 -48 R0
SYMATTR InstName L1
SYMATTR Value 17µ
SYMATTR Type ind
SYMBOL res 784 -64 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL ind 256 -304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 1µ
SYMBOL cap 352 -288 R0
SYMATTR InstName C4
SYMATTR Value 1µ
SYMBOL cap 432 -288 R0
SYMATTR InstName C5
SYMATTR Value .1µ
SYMBOL ind2 560 -48 R0
SYMATTR InstName L2
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL res 400 288 R0
SYMATTR InstName R3
SYMATTR Value 2.8
SYMBOL res 96 224 R0
SYMATTR InstName R2
SYMATTR Value 160
SYMBOL cap 496 320 R0
SYMATTR InstName C8
SYMATTR Value 1µ
SYMBOL ind 400 -192 R0
SYMATTR InstName L5
SYMATTR Value 35µ
SYMBOL cap 320 -64 R0
WINDOW 0 33 16 Left 2
WINDOW 3 36 49 Left 2
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL cap 240 -64 R0
WINDOW 0 -23 5 Left 2
WINDOW 3 -53 44 Left 2
SYMATTR InstName C6
SYMATTR Value 220µ
SYMBOL cap 384 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 4n
SYMBOL res 304 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 500
SYMBOL res -304 192 R0
SYMATTR InstName R5
SYMATTR Value 5
SYMBOL npn -352 48 R0
SYMATTR InstName Q2
SYMATTR Value 2N2219A
SYMBOL res -528 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rcouple1
SYMATTR Value .001
SYMBOL cap -640 -320 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL cap -656 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C12
SYMATTR Value .1µ
SYMBOL res -496 -160 R0
SYMATTR InstName R7
SYMATTR Value 800
SYMBOL cap 32 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL cap -368 208 R0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL ind -304 -176 R0
SYMATTR InstName L4
SYMATTR Value 60µ
TEXT -1360 -152 Left 2 !.tran 0 10u 9.5u
TEXT 944 -360 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vbr RMS V(Vb)\n.meas TRAN Vcr RMS V(Vc)\n.meas TRAN Icr RMS Ic(Q1)\n.meas TRAN Ibr RMS Ib(Q1)\n.meas TRAN Vbavg AVG V(Vb)\n.meas TRAN Vbmax MAX V(Vb)\n.meas TRAN Vbmin MIN V(Vb)\n.meas TRAN Vppr PARAM Vbmax-Vbmin\n.meas TRAN Vpr PARAM Vbmax-Vbe\n.meas TRAN Cd PARAM Vpr/Vppr\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vb2r RMS V(Vb2)\n.meas TRAN Vc2r RMS V(Vc2)\n.meas TRAN Ve2r RMS V(Ve2)\n.meas TRAN Ic2r RMS Ic(Q2)\n.meas TRAN Ib2r RMS Ib(Q2)\n.meas TRAN Ie2r RMS Ie(Q2)\n.meas TRAN Vb2avg AVG V(Vb2)\n.meas TRAN Vb2max MAX V(Vb2)\n.meas TRAN Vb2min MIN V(Vb2)\n.meas TRAN Vpp2r PARAM Vb2max-Vb2min\n.meas TRAN Vp2r PARAM Vb2max-Vbe\n.meas TRAN Cd2 PARAM Vp2r/Vpp2r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Icouple1 RMS I(Rcouple1)\n.meas TRAN Icouple2 RMS I(Rcouple2)\n \n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN PQ2dis AVG (V(Vc2,Ve2)*Ic(Q2) + V(Vb2,Ve2)*Ib(Q2))\n.meas TRAN Pdis AVG (V(Vc,Ve)*Ic(Q1) + V(Vb,Ve)*Ib(Q1))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN Zout PARAM Vcr/Icr\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN ZQ2in PARAM Vb2r/Ib2r \n.meas TRAN ZQ2out PARAM Ve2r/Icouple2\n.meas TRAN ZQ2eout PARAM Ve2r/Ie2r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Q2Angle PARAM Cd2*360\n.meas TRAN CdAngle PARAM Cd*360\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n \n.four {F} 4 -1 V(Vout)
TEXT -1344 -416 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list 3.7Meg 14.1Meg 28.7Meg\n.param F 30Meg\n.param S 1\n.param Z 2\n.param Vbe 0.68
TEXT 520 -96 Left 2 !K1 L1 L2 1
TEXT -1392 -96 Left 2 ;.ac dec 1000 1Meg 30Meg
TEXT -984 640 Left 2 ;Opamps clips when output is between 75-85% of Vcc
