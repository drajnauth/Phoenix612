Version 4
SHEET 1 3748 1760
WIRE 608 -624 480 -624
WIRE 752 -624 608 -624
WIRE 1136 -624 752 -624
WIRE 1248 -624 1136 -624
WIRE 608 -592 608 -624
WIRE 752 -592 752 -624
WIRE 480 -576 480 -624
WIRE 608 -512 608 -528
WIRE 752 -512 752 -528
WIRE 480 -480 480 -496
WIRE 704 -320 480 -320
WIRE 800 -320 768 -320
WIRE 992 -320 992 -352
WIRE 992 -320 880 -320
WIRE 1184 -320 992 -320
WIRE 1376 -320 1184 -320
WIRE 1488 -320 1440 -320
WIRE 1536 -320 1488 -320
WIRE 1792 -320 1616 -320
WIRE 1920 -320 1856 -320
WIRE 1952 -320 1920 -320
WIRE 1920 -304 1920 -320
WIRE 992 -272 992 -320
WIRE 1536 -240 1456 -240
WIRE 1696 -240 1616 -240
WIRE 1920 -208 1920 -224
WIRE -320 -192 -384 -192
WIRE -160 -192 -320 -192
WIRE 0 -192 -96 -192
WIRE 144 -192 80 -192
WIRE 240 -192 144 -192
WIRE 368 -192 320 -192
WIRE 400 -192 368 -192
WIRE 480 -192 480 -320
WIRE 480 -192 400 -192
WIRE 512 -192 480 -192
WIRE 624 -192 576 -192
WIRE 848 -192 624 -192
WIRE 880 -192 848 -192
WIRE 944 -192 880 -192
WIRE 624 -176 624 -192
WIRE -384 -160 -384 -192
WIRE 880 -160 880 -192
WIRE 992 -160 992 -176
WIRE 400 -144 400 -192
WIRE 992 -144 992 -160
WIRE 0 -112 -48 -112
WIRE 208 -112 80 -112
WIRE 1248 -96 1248 -624
WIRE 1312 -96 1248 -96
WIRE 1184 -80 1184 -320
WIRE 1248 -80 1248 -96
WIRE -384 -64 -384 -80
WIRE 880 -48 880 -80
WIRE 400 -16 400 -64
WIRE 448 -16 400 -16
WIRE 1488 -16 1488 -320
WIRE 1520 -16 1488 -16
WIRE 1696 -16 1696 -240
WIRE 1696 -16 1600 -16
WIRE 448 16 448 -16
WIRE 1136 48 1136 -624
WIRE 1184 48 1184 0
WIRE 1184 48 1136 48
WIRE 400 64 400 -16
WIRE 720 64 480 64
WIRE 816 64 784 64
WIRE 1024 64 1024 32
WIRE 1024 64 896 64
WIRE 1248 64 1248 0
WIRE 1248 64 1024 64
WIRE 1376 64 1248 64
WIRE 1456 64 1456 -240
WIRE 1456 64 1440 64
WIRE 1520 64 1456 64
WIRE 1696 64 1600 64
WIRE -48 96 -48 -112
WIRE -16 96 -48 96
WIRE 144 96 144 -192
WIRE 144 96 64 96
WIRE 1024 96 1024 64
WIRE 1184 112 1184 48
WIRE 1312 112 1312 -96
WIRE 1696 128 1696 64
WIRE -16 176 -48 176
WIRE 208 176 208 -112
WIRE 208 176 64 176
WIRE 256 176 208 176
WIRE 368 176 336 176
WIRE 400 176 400 144
WIRE 400 176 368 176
WIRE 480 176 480 64
WIRE 480 176 400 176
WIRE 512 176 480 176
WIRE 768 176 576 176
WIRE 880 176 768 176
WIRE 896 176 880 176
WIRE 976 176 896 176
WIRE 768 192 768 176
WIRE 896 208 896 176
WIRE 1024 208 1024 192
WIRE 1024 224 1024 208
WIRE 1184 224 1184 176
WIRE 1312 224 1312 176
WIRE -48 240 -48 176
WIRE 624 320 624 -96
WIRE 624 320 608 320
WIRE 768 320 768 272
WIRE 768 320 752 320
WIRE 896 320 896 288
WIRE 624 336 624 320
WIRE 768 336 768 320
WIRE 624 416 624 400
WIRE 768 416 768 400
WIRE 528 496 528 320
WIRE 544 496 528 496
WIRE 608 496 544 496
WIRE 656 496 608 496
WIRE 672 496 672 320
WIRE 672 496 656 496
WIRE 544 528 544 496
WIRE 656 528 656 496
WIRE 544 624 544 608
WIRE 656 624 656 592
FLAG 480 -480 0
FLAG -384 -64 0
FLAG 1952 -320 Vout
FLAG 1920 -208 0
FLAG 880 176 Vg1
FLAG -320 -192 Vin
FLAG 608 -512 0
FLAG 752 -512 0
FLAG 1024 32 Vd1
FLAG 1024 224 0
FLAG 1024 208 Vs1
FLAG 848 -192 Vg2
FLAG 992 -352 Vd2
FLAG 992 -144 0
FLAG 992 -160 Vs2
FLAG 544 624 0
FLAG 656 624 0
FLAG 608 496 Vbias
FLAG 880 -48 0
FLAG 896 320 0
FLAG 768 416 0
FLAG 624 416 0
FLAG 448 16 0
FLAG -48 240 0
FLAG 1312 224 0
FLAG 1184 224 0
FLAG 1696 128 0
FLAG 368 176 Vs1
FLAG 368 -192 Vs2
SYMBOL voltage -384 -176 R0
WINDOW 0 -45 11 Left 2
WINDOW 3 -214 95 Left 2
WINDOW 123 -214 123 Left 2
WINDOW 39 -214 151 Left 2
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMBOL voltage 480 -592 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 1904 -320 R0
SYMATTR InstName Rout
SYMATTR Value 50R
SYMBOL cap -96 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL cap 592 -592 R0
SYMATTR InstName C9
SYMATTR Value 1µ
SYMBOL cap 736 -592 R0
SYMATTR InstName C8
SYMATTR Value 100µ
SYMBOL nmos 976 96 R0
SYMATTR InstName M1
SYMATTR Value RD16HHF1
SYMBOL nmos 944 -272 R0
SYMATTR InstName M2
SYMATTR Value RD16HHF1
SYMBOL voltage 544 512 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {B}
SYMBOL cap 640 528 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL res 864 -176 R0
SYMATTR InstName R1
SYMATTR Value 1K
SYMBOL res 880 192 R0
SYMATTR InstName R2
SYMATTR Value 1K
SYMBOL res 608 -192 R0
SYMATTR InstName R3
SYMATTR Value 560
SYMBOL res 752 176 R0
SYMATTR InstName R4
SYMATTR Value 560
SYMBOL ind 512 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMBOL ind 656 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMBOL cap 752 336 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL cap 608 336 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL cap 576 -208 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap 576 160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL res 384 -160 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res 384 48 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL ind2 -16 -176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL ind2 -16 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L2
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL ind2 -32 112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L3
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL ind2 -32 192 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L4
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL res 896 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 220
SYMBOL cap 768 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C5
SYMATTR Value .1µ
SYMBOL res 912 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 220
SYMBOL cap 784 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL ind2 1168 -96 R0
WINDOW 0 -28 29 Left 2
WINDOW 3 -76 85 Left 2
SYMATTR InstName L5
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL ind2 1232 -96 R0
SYMATTR InstName L6
SYMATTR Value 28.16µ
SYMATTR Type ind
SYMBOL cap 1168 112 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL cap 1296 112 R0
SYMATTR InstName C12
SYMATTR Value .1µ
SYMBOL cap 1440 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL cap 1440 48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C14
SYMATTR Value .1µ
SYMBOL ind2 1520 -304 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L7
SYMATTR Value 31.68µ
SYMATTR Type ind
SYMBOL ind2 1520 -224 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L8
SYMATTR Value 31.68µ
SYMATTR Type ind
SYMBOL ind2 1504 0 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L9
SYMATTR Value 31.68µ
SYMATTR Type ind
SYMBOL ind2 1504 80 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L10
SYMATTR Value 31.68µ
SYMATTR Type ind
SYMBOL cap 1856 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C15
SYMATTR Value .1µ
SYMBOL res 336 -208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RS2
SYMATTR Value 0.0001
SYMBOL res 352 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RS1
SYMATTR Value 0.0001
TEXT -32 -392 Left 2 !.tran 0 10u 9u
TEXT 2248 -1056 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Iinr RMS I(V1)\n.meas TRAN Ioutr RMS I(Rout)\n.meas TRAN Iina AVG I(V1)\n.meas TRAN Vina AVG V(Vin)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Idr1 RMS Id(M1)\n.meas TRAN Igr1 RMS Ig(m1)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vbiasr1 RMS V(Vbias)\n.meas TRAN Vppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vpr1 PARAM Vgmax1-Vgs\n.meas TRAN Cd1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr2 RMS V(Vg2)\n.meas TRAN Vdr2 RMS V(Vd2)\n.meas TRAN Idr2 RMS Id(M2)\n.meas TRAN Igr2 RMS Ig(m2)\n.meas TRAN Vgavg2 AVG V(Vg2)\n.meas TRAN Vgmax2 MAX V(Vg2)\n.meas TRAN Vgmin2 MIN V(Vg2)\n.meas TRAN Vbiasr2 RMS V(Vbias)\n.meas TRAN Vppr2 PARAM Vgmax2-Vgmin2\n.meas TRAN Vpr2 PARAM Vgmax2-Vgs\n.meas TRAN Cd2 PARAM Vpr2/Vppr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN CdAngle1 PARAM Cd1*360\n.meas TRAN CdAngle2 PARAM Cd2*360\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vs1r RMS V(Vs1)\n.meas TRAN Vs2r RMS V(Vs2)\n.meas TRAN Is1r RMS I(Rs1)\n.meas TRAN Is2r RMS I(Rs2)\n.meas TRAN Zout PARAM Vdr1/Idr1\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN ZinM1 PARAM Vs1r/Is1r\n.meas TRAN ZinM2 PARAM Vs2r/Is2r \n.meas TRAN ZoutM1 PARAM Vdr1/Idr1\n.meas TRAN ZoutM2 PARAM Vdr2/Idr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Pdis1 AVG (V(vd1)*Id(m1) + V(vg1)*Ig(m1))\n.meas TRAN Pdis2 AVG (V(vd2)*Id(m2) + V(vg2)*Ig(m2))\n.meas TRAN Pin RMS (V(Vin)*V(Vin)/Zin)\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis1-Pdis2\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gpr PARAM (Pout/Pin)\n.meas TRAN Gvr PARAM (Voutr/Vinr)\n.meas TRAN Gir PARAM Ioutr/Iinr)\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gi PARAM 20*log10(Ioutr/Iinr)\n \n.four {F} 4 -1 V(Vout)
TEXT -680 -528 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list 3.7Meg 14.1Meg 28.7Meg\n.param F 28.7Meg\n.param S 1.7\n.param B 3.82\n.param Z 1\n.param Vgs 3.6
TEXT -32 -352 Left 2 ;.ac dec 1000 1Meg 30Meg
TEXT -304 -8 Left 2 !K1 L1 L2 L3 L4 1
TEXT 1000 -56 Left 2 !K3 L5 L6 1
TEXT 1536 -392 Left 2 !K4 L7 L8 1
TEXT 1504 160 Left 2 !K5 L9 L10 1
