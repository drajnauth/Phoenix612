Version 4
SHEET 1 3136 1620
WIRE -3424 -176 -3456 -176
WIRE -3328 -176 -3344 -176
WIRE -3312 -176 -3328 -176
WIRE -3120 -176 -3232 -176
WIRE -3072 -176 -3120 -176
WIRE -2736 -176 -3072 -176
WIRE -2672 -176 -2736 -176
WIRE -2224 -176 -2672 -176
WIRE -2176 -176 -2224 -176
WIRE -1328 -176 -2176 -176
WIRE -1264 -176 -1328 -176
WIRE -400 -176 -1264 -176
WIRE -368 -176 -400 -176
WIRE -176 -176 -368 -176
WIRE 144 -176 -176 -176
WIRE 240 -176 144 -176
WIRE 352 -176 240 -176
WIRE 464 -176 352 -176
WIRE 864 -176 464 -176
WIRE 1040 -176 864 -176
WIRE 1152 -176 1040 -176
WIRE 352 -160 352 -176
WIRE 864 -160 864 -176
WIRE 1040 -160 1040 -176
WIRE -3456 -144 -3456 -176
WIRE -3072 -144 -3072 -176
WIRE -2672 -144 -2672 -176
WIRE 240 -144 240 -176
WIRE 1152 -144 1152 -176
WIRE -3328 -128 -3328 -176
WIRE -3328 -128 -3392 -128
WIRE -176 -128 -176 -176
WIRE -2176 -96 -2176 -112
WIRE -1264 -96 -1264 -112
WIRE 352 -80 352 -96
WIRE 864 -80 864 -96
WIRE 1040 -80 1040 -96
WIRE -3072 -64 -3072 -80
WIRE -2672 -64 -2672 -80
WIRE 464 -64 464 -176
WIRE -3392 -48 -3392 -64
WIRE 240 -48 240 -64
WIRE 1056 -16 976 -16
WIRE 1152 -16 1152 -64
WIRE 1152 -16 1056 -16
WIRE 1392 -16 1248 -16
WIRE 1472 -16 1456 -16
WIRE 1536 -16 1472 -16
WIRE -3328 0 -3328 -128
WIRE 976 0 976 -16
WIRE 1056 0 1056 -16
WIRE -176 16 -176 -48
WIRE -176 16 -240 16
WIRE -112 16 -176 16
WIRE 1472 16 1472 -16
WIRE 1152 32 1152 -16
WIRE 1248 32 1248 -16
WIRE -1328 64 -1328 -176
WIRE -368 64 -368 -176
WIRE -2224 80 -2224 -176
WIRE -1360 80 -1392 80
WIRE 368 80 272 80
WIRE 464 80 464 16
WIRE 464 80 368 80
WIRE 736 80 672 80
WIRE 816 80 736 80
WIRE 896 80 880 80
WIRE 976 80 976 64
WIRE 1056 80 1056 64
WIRE -2736 96 -2736 -176
WIRE -2256 96 -2288 96
WIRE -1216 96 -1296 96
WIRE -1168 96 -1168 32
WIRE -1168 96 -1216 96
WIRE -1152 96 -1168 96
WIRE -1072 96 -1088 96
WIRE -1024 96 -1072 96
WIRE -912 96 -944 96
WIRE -768 96 -912 96
WIRE -656 96 -656 32
WIRE -656 96 -688 96
WIRE -544 96 -656 96
WIRE 272 96 272 80
WIRE 368 96 368 80
WIRE -3120 112 -3120 -176
WIRE -2768 112 -2800 112
WIRE -2160 112 -2192 112
WIRE -2048 112 -2160 112
WIRE -1920 112 -1968 112
WIRE -1824 112 -1920 112
WIRE -1776 112 -1824 112
WIRE -1664 112 -1696 112
WIRE -1360 112 -1664 112
WIRE 736 112 736 80
WIRE -3328 128 -3328 80
WIRE -3152 128 -3184 128
WIRE -2624 128 -2704 128
WIRE -2560 128 -2624 128
WIRE -2432 128 -2480 128
WIRE -2256 128 -2432 128
WIRE -1072 128 -1072 96
WIRE -912 128 -912 96
WIRE -176 128 -176 16
WIRE 464 128 464 80
WIRE 1472 128 1472 96
WIRE -3056 144 -3088 144
WIRE -2992 144 -3056 144
WIRE -2848 144 -2912 144
WIRE -2768 144 -2848 144
WIRE -1824 144 -1824 112
WIRE -1664 144 -1664 112
WIRE -1328 144 -1328 128
WIRE 1248 144 1248 112
WIRE -3536 160 -3552 160
WIRE -3456 160 -3536 160
WIRE -3328 160 -3328 128
WIRE -3328 160 -3392 160
WIRE -3296 160 -3328 160
WIRE -3152 160 -3216 160
WIRE -2224 160 -2224 144
WIRE -176 160 -176 128
WIRE 896 160 896 80
WIRE -3552 176 -3552 160
WIRE -2736 176 -2736 160
WIRE 272 176 272 160
WIRE 368 176 368 160
WIRE -3120 192 -3120 176
WIRE 736 192 736 176
WIRE -480 208 -544 208
WIRE -368 208 -368 144
WIRE -368 208 -416 208
WIRE -304 208 -368 208
WIRE -240 208 -304 208
WIRE 736 208 736 192
WIRE -2288 224 -2288 96
WIRE -2256 224 -2288 224
WIRE -2160 224 -2160 112
WIRE -2160 224 -2176 224
WIRE -1392 224 -1392 80
WIRE -1360 224 -1392 224
WIRE -1216 224 -1216 96
WIRE -1216 224 -1280 224
WIRE -1072 240 -1072 208
WIRE -992 240 -1072 240
WIRE -912 240 -912 208
WIRE -912 240 -992 240
WIRE 544 240 544 208
WIRE -3184 256 -3184 128
WIRE -3152 256 -3184 256
WIRE -3056 256 -3056 144
WIRE -3056 256 -3072 256
WIRE -2800 256 -2800 112
WIRE -2768 256 -2800 256
WIRE -2624 256 -2624 128
WIRE -2624 256 -2688 256
WIRE -2288 256 -2288 224
WIRE -1824 256 -1824 224
WIRE -1744 256 -1824 256
WIRE -1664 256 -1664 224
WIRE -1664 256 -1744 256
WIRE -1392 256 -1392 224
WIRE -368 256 -368 208
WIRE 896 256 896 240
WIRE 944 256 896 256
WIRE 1152 256 1152 112
WIRE -3552 272 -3552 256
WIRE -992 272 -992 240
WIRE 464 272 464 208
WIRE 672 272 672 80
WIRE 672 272 464 272
WIRE 896 272 896 256
WIRE -3184 288 -3184 256
WIRE -2800 288 -2800 256
WIRE -1744 288 -1744 256
WIRE -176 288 -176 256
WIRE 464 288 464 272
WIRE 1152 288 1152 256
WIRE 736 304 736 288
WIRE -368 352 -368 336
WIRE -176 368 -176 288
WIRE -96 368 -176 368
WIRE 32 368 -32 368
WIRE 176 368 176 304
WIRE 176 368 112 368
WIRE 208 368 176 368
WIRE 288 368 272 368
WIRE 384 368 288 368
WIRE 416 368 384 368
WIRE 896 368 896 352
WIRE 928 368 896 368
WIRE 1040 368 992 368
WIRE 1072 368 1040 368
WIRE 1104 368 1072 368
WIRE -3184 384 -3184 368
WIRE -176 400 -176 368
WIRE 288 400 288 368
WIRE 1040 400 1040 368
WIRE -2288 416 -2288 400
WIRE -1392 416 -1392 400
WIRE 464 416 464 384
WIRE 1152 416 1152 384
WIRE -3184 464 -3184 448
WIRE -2000 464 -2000 448
WIRE -176 528 -176 480
WIRE 288 528 288 480
WIRE 288 528 192 528
WIRE -2000 544 -2000 528
WIRE -2000 560 -2000 544
WIRE 192 624 192 528
WIRE 256 624 192 624
WIRE 368 624 336 624
WIRE 432 624 368 624
WIRE 480 624 432 624
WIRE 784 624 752 624
WIRE 848 624 784 624
WIRE 912 624 848 624
WIRE 1040 624 1040 480
WIRE 1040 624 992 624
WIRE 192 656 192 624
WIRE 480 656 480 624
WIRE 752 656 752 624
WIRE 1040 656 1040 624
WIRE -2000 672 -2000 640
WIRE 368 672 368 624
WIRE 848 672 848 624
WIRE 192 736 192 720
WIRE 1040 736 1040 720
WIRE 368 752 368 736
WIRE 480 752 480 736
WIRE 752 752 752 736
WIRE 848 752 848 736
FLAG 240 -48 0
FLAG 1472 128 0
FLAG 1536 -16 Vout
FLAG -3552 272 0
FLAG -3536 160 Vin
FLAG 464 416 0
FLAG 384 368 Vg1
FLAG 464 272 Vd1
FLAG 368 176 0
FLAG 368 752 0
FLAG 192 736 0
FLAG 480 752 0
FLAG 432 624 Vbias1
FLAG 352 -80 0
FLAG 544 240 0
FLAG 1152 416 0
FLAG 1072 368 Vg2
FLAG 1152 256 Vd2
FLAG 1056 80 0
FLAG 1040 -80 0
FLAG 1248 144 0
FLAG 1040 736 0
FLAG 944 256 Vs3
FLAG 752 752 0
FLAG 784 624 Vbias2
FLAG 144 -112 0
FLAG 176 304 Vs2
FLAG 864 -80 0
FLAG 976 80 0
FLAG 272 176 0
FLAG -368 352 0
FLAG -176 528 0
FLAG -304 208 Vb
FLAG -176 288 Ve
FLAG -176 128 Vc
FLAG -400 -112 0
FLAG -240 80 0
FLAG -3072 -64 0
FLAG -3392 -48 0
FLAG -3120 192 0
FLAG -2736 176 0
FLAG -2800 432 0
FLAG -2672 -64 0
FLAG -3456 -144 0
FLAG -3184 464 0
FLAG -2176 -96 0
FLAG -2224 160 0
FLAG -1328 144 0
FLAG -1392 416 0
FLAG -1264 -96 0
FLAG -2288 416 0
FLAG -2000 544 Vu1
FLAG -2000 672 0
FLAG -656 32 Vs1
FLAG -3328 128 Vt1
FLAG -2848 144 Vt2
FLAG -2432 128 Vt3
FLAG -1168 32 Vt5
FLAG -1920 112 Vt4
FLAG -112 80 0
FLAG 736 192 Vu4
FLAG 736 304 0
FLAG 848 752 0
FLAG -1744 288 0
FLAG -992 272 0
SYMBOL voltage 240 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 1456 0 R0
SYMATTR InstName Rout
SYMATTR Value 50
SYMBOL voltage -3552 160 R0
WINDOW 123 -91 47 Left 2
WINDOW 39 -150 73 Left 2
WINDOW 3 -224 13 Left 2
SYMATTR Value2 AC 1
SYMATTR SpiceLine Rser={Z}
SYMATTR Value SINE(0 {S} {F})
SYMATTR InstName V1
SYMBOL ind2 448 112 R0
SYMATTR InstName L1
SYMATTR Value 66µ
SYMATTR Type ind
SYMBOL res 272 384 R0
SYMATTR InstName R3
SYMATTR Value 4.7K
SYMBOL cap 352 96 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL cap 1392 0 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL ind2 240 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName RFC2
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 352 672 R0
SYMATTR InstName C10
SYMATTR Value 1µ
SYMBOL cap 176 656 R0
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL voltage 480 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value {BM1}
SYMBOL ind2 528 112 R0
SYMATTR InstName L2
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 336 -160 R0
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL nmos 1104 288 R0
SYMATTR InstName M2
SYMATTR Value RD16HHF1
SYMBOL ind2 1136 16 R0
SYMATTR InstName L3
SYMATTR Value 12.5µ
SYMATTR Type ind
SYMBOL ind2 1136 -160 R0
SYMATTR InstName RFC3
SYMATTR Value 1m
SYMATTR Type ind
SYMBOL cap 1040 0 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL ind2 1232 16 R0
SYMATTR InstName L4
SYMATTR Value 50µ
SYMATTR Type ind
SYMBOL cap 1024 -160 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL res 880 144 R0
SYMATTR InstName RSense3
SYMATTR Value .001
SYMBOL cap 992 352 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL res 1024 384 R0
SYMATTR InstName R2
SYMATTR Value 10K
SYMBOL ind2 896 640 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 4 56 VBottom 2
SYMATTR InstName RFC4
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 1024 656 R0
SYMATTR InstName C5
SYMATTR Value .1µ
SYMBOL cap 816 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL voltage 752 640 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {BM2}
SYMBOL cap 128 -176 R0
WINDOW 0 30 14 Left 2
WINDOW 3 36 43 Left 2
SYMATTR InstName C16
SYMATTR Value .1µ
SYMBOL res 128 352 R90
WINDOW 0 -12 59 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSense2
SYMATTR Value .001
SYMBOL cap 848 -160 R0
SYMATTR InstName C9
SYMATTR Value 220µ
SYMBOL cap 960 0 R0
SYMATTR InstName C36
SYMATTR Value 470µ
SYMBOL res 880 256 R0
WINDOW 0 -28 58 Left 2
WINDOW 3 -30 84 Left 2
SYMATTR InstName R1
SYMATTR Value 56
SYMBOL cap 208 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C8
SYMATTR Value .1µ
SYMBOL nmos 416 288 R0
SYMATTR InstName M1
SYMATTR Value BS170
SYMATTR Prefix X
SYMBOL ind2 448 -80 R0
SYMATTR InstName RFC1
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap 256 96 R0
SYMATTR InstName C12
SYMATTR Value 470µ
SYMBOL res -384 48 R0
SYMATTR InstName Rb1
SYMATTR Value 1911
SYMBOL res -384 240 R0
SYMATTR InstName Rb2
SYMATTR Value 840
SYMBOL res -192 384 R0
SYMATTR InstName Re1
SYMATTR Value 50
SYMBOL npn -240 160 R0
SYMATTR InstName Q1
SYMATTR Value 2N2219A
SYMBOL cap -416 -176 R0
WINDOW 0 -28 15 Left 2
WINDOW 3 -38 41 Left 2
SYMATTR InstName C14
SYMATTR Value .1µ
SYMBOL cap -256 16 R0
WINDOW 0 -41 4 Left 2
WINDOW 3 -45 36 Left 2
SYMATTR InstName C17
SYMATTR Value .1µ
SYMBOL Opamps\\LT1253 -3120 80 R0
SYMATTR InstName U1
SYMBOL Opamps\\LT1253 -2736 64 R0
SYMATTR InstName U2
SYMBOL res -3344 -16 R0
SYMATTR InstName R4
SYMATTR Value 50
SYMBOL res -3216 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1K
SYMBOL res -3328 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1K
SYMBOL res -3200 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value {R}
SYMBOL res -2672 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 620
SYMBOL res -3056 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 620
SYMBOL res -3168 384 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 68
SYMBOL res -2784 384 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R11
SYMATTR Value 68
SYMBOL cap -3200 384 R0
WINDOW 0 36 38 Left 2
SYMATTR InstName C18
SYMATTR Value 100n
SYMBOL cap -2816 368 R0
SYMATTR InstName C19
SYMATTR Value 100n
SYMBOL cap -3408 -128 R0
SYMATTR InstName C20
SYMATTR Value 100n
SYMBOL cap -3088 -144 R0
SYMATTR InstName C21
SYMATTR Value 100n
SYMBOL cap -2688 -144 R0
SYMATTR InstName C22
SYMATTR Value 100n
SYMBOL cap -3392 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C23
SYMATTR Value 100n
SYMBOL Opamps\\LT1253 -2224 48 R0
SYMATTR InstName U3
SYMBOL Opamps\\LT1253 -1328 32 R0
SYMATTR InstName U4
SYMBOL res -1264 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 620
SYMBOL res -2160 208 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 620
SYMBOL res -2272 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R14
SYMATTR Value 68
SYMBOL res -1376 352 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R15
SYMATTR Value 68
SYMBOL cap -2304 336 R0
WINDOW 0 36 38 Left 2
SYMATTR InstName C24
SYMATTR Value 100n
SYMBOL cap -1408 336 R0
SYMATTR InstName C25
SYMATTR Value 100n
SYMBOL cap -2192 -176 R0
SYMATTR InstName C26
SYMATTR Value 100n
SYMBOL cap -1280 -176 R0
SYMATTR InstName C27
SYMATTR Value 100n
SYMBOL res -2896 128 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value {R}
SYMBOL res -2464 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {R}
SYMBOL res -1952 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R18
SYMATTR Value 1
SYMBOL cap -2016 464 R0
SYMATTR InstName C28
SYMATTR Value 10p
SYMBOL res -2016 544 R0
SYMATTR InstName R19
SYMATTR Value {R}
SYMBOL cap -480 224 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C29
SYMATTR Value .1µ
SYMBOL cap -1152 112 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -6 25 VBottom 2
SYMATTR InstName C30
SYMATTR Value .1µ
SYMBOL res -672 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName RSense1
SYMATTR Value 1
SYMBOL ind2 -192 -144 R0
SYMATTR InstName RFC5
SYMATTR Value 10µ
SYMATTR Type ind
SYMBOL cap -128 16 R0
SYMATTR InstName C32
SYMATTR Value 47µ
SYMBOL cap -96 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C33
SYMATTR Value .1µ
SYMBOL cap 720 112 R0
SYMATTR InstName C15
SYMATTR Value 370p
SYMBOL res 720 192 R0
SYMATTR InstName R21
SYMATTR Value 240
SYMBOL cap 832 672 R0
SYMATTR InstName C34
SYMATTR Value 1µ
SYMBOL res -1840 128 R0
SYMATTR InstName R22
SYMATTR Value 156K
SYMBOL res -1680 128 R0
SYMATTR InstName R23
SYMATTR Value 156K
SYMBOL res -1680 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1K
SYMBOL res -1088 112 R0
SYMATTR InstName R20
SYMATTR Value 1740
SYMBOL res -928 112 R0
WINDOW 0 36 46 Left 2
SYMATTR InstName R25
SYMATTR Value 1740
SYMBOL res -928 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R26
SYMATTR Value 11
TEXT -1408 640 Left 2 !.tran 0 10u
TEXT 1712 -944 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Iinr RMS I(V1)\n.meas TRAN Voutr RMS V(Vout)\n.meas TRAN Ioutr RMS I(Rout)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vbr RMS V(Vb)\n.meas TRAN Vcr RMS V(Vc)\n.meas TRAN Ver RMS V(Ve)\n.meas TRAN Ibr RMS Ib(Q1)\n.meas TRAN Icr RMS Ic(Q1)\n.meas TRAN Ier RMS Ie(Q1)\n.meas TRAN Vbavg AVG V(Vb)\n.meas TRAN Vbmax MAX V(Vb)\n.meas TRAN Vbmin MIN V(Vb)\n.meas TRAN Vppr3 PARAM Vbmax-Vbmin\n.meas TRAN Vpr3 PARAM Vbmax-Vbe\n.meas TRAN CdQ1 PARAM Vpr3/Vppr3\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr1 RMS V(Vg1)\n.meas TRAN Vdr1 RMS V(Vd1)\n.meas TRAN Idr1 RMS Ix(M1:D)\n.meas TRAN Igr1 RMS Ix(M1:G)\n.meas TRAN Vgavg1 AVG V(Vg1)\n.meas TRAN Vgmax1 MAX V(Vg1)\n.meas TRAN Vgmin1 MIN V(Vg1)\n.meas TRAN Vbiasr1 RMS V(Vbias1)\n.meas TRAN Vppr1 PARAM Vgmax1-Vgmin1\n.meas TRAN Vpr1 PARAM Vgmax1-Vgs1\n.meas TRAN CdM1 PARAM Vpr1/Vppr1\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr2 RMS V(Vg2)\n.meas TRAN Vdr2 RMS V(Vd2)\n.meas TRAN Idr2 RMS Id(M2)\n.meas TRAN Igr2 RMS Ig(M2)\n.meas TRAN Vgavg2 AVG V(Vg2)\n.meas TRAN Vgmax2 MAX V(Vg2)\n.meas TRAN Vgmin2 MIN V(Vg2)\n.meas TRAN Vbiasr2 RMS V(Vbias2)\n.meas TRAN Vppr2 PARAM Vgmax2-Vgmin2\n.meas TRAN Vpr2 PARAM Vgmax2-Vgs2\n.meas TRAN CdM2 PARAM Vpr2/Vppr2\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN PdisQ1 AVG (V(Vc,Ve)*Ic(Q1) + V(Vb,Ve)*Ib(Q1))\n.meas TRAN PdisM1 AVG (V(vd1)*Ix(M1:D) + V(vg1)*Ix(M1:G))\n.meas TRAN PdisM2 AVG (V(vd2)*Id(m2) + V(vg2)*Ig(m2))\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vsr1 RMS V(Vs1)\n.meas TRAN Is1 RMS I(Rsense1)\n.meas TRAN Vsr2 RMS V(Vs2)\n.meas TRAN Is2 RMS I(Rsense2)\n.meas TRAN Vsr3 RMS V(Vs3)\n.meas TRAN Is3 RMS I(Rsense3)\n.meas TRAN Zin PARAM Vinr/Iinr\n.meas TRAN ZinQ1 PARAM Vsr1/Is1\n.meas TRAN ZinM1 PARAM Vsr2/Is2\n.meas TRAN ZinM2 PARAM Vsr3/Is3\n.meas TRAN ZoutQ1 PARAM Ver/Ier\n.meas TRAN ZoutM1 PARAM Vdr1/Idr1\n.meas TRAN ZoutM2 PARAM Vdr2/Idr2\n.meas TRAN CdAngleQ1 PARAM CdQ1*360\n.meas TRAN CdAngleM1 PARAM CdM1*360\n.meas TRAN CdAngleM2 PARAM CdM2*360\n \n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vout)*I(Rout))\n.meas TRAN Pdis PARAM PdisM1+PdisM2+PdisQ1\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Glt PARAM Vsr3/Vinr\n.meas TRAN GQ1 PARAM Vsr2/Vsr1\n.meas TRAN GM1 PARAM Vsr3/Vsr2\n.meas TRAN GM2 PARAM Voutr/Vsr2\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Voutr/Vinr)\n.meas TRAN Gi PARAM 20*log10(Ioutr/Iinr)\n.meas TRAN BetaQ1 PARAM Icr/Ibr\n \n.four {F} 4 -1 V(Vt1)\n.four {F} 4 -1 V(Vt2)\n.four {F} 4 -1 V(Vt3)\n.four {F} 4 -1 V(Vt4)\n.four {F} 4 -1 V(Vt5)\n.four {F} 4 -1 V(Vs1)\n.four {F} 4 -1 V(Vs2)\n.four {F} 4 -1 V(Vs3)\n.four {F} 4 -1 V(Vout)
TEXT -1416 688 Left 2 !;.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.step param F list  3.7Meg 14.1Meg 28.7Meg\n.param F 28.7Meg\n.param S 0.0008\n.param BM2 4.5\n.param BM1 3.0\n.param R 9K\n.param Z 50\n.param Vgs2 3.1\n.param Vgs1 2\n.param Vbe 0.7
TEXT 304 224 Left 2 ;K1 L1 L2 1
TEXT 1168 208 Left 2 !K2 L3 L4 1
TEXT 600 8 Left 2 ;Need 4.4Vp Input for 9W output at 100R
TEXT 416 464 Left 2 !.include BS170.lib
TEXT -872 -56 Left 2 ;Need 0.7Vp Input at 443 R at 30 MHz
TEXT -152 296 Left 2 ;Need 0.7Vp Input at 50R
TEXT -3216 536 Left 2 ;1K pot +68R  \nUp to 20dB of gain here.
