Version 4
SHEET 1 2704 1348
WIRE 320 -400 128 -400
WIRE 464 -400 320 -400
WIRE 800 -400 464 -400
WIRE 944 -400 800 -400
WIRE 1072 -400 944 -400
WIRE 1120 -400 1072 -400
WIRE 1168 -400 1120 -400
WIRE 1296 -400 1248 -400
WIRE 1376 -400 1296 -400
WIRE 1424 -400 1376 -400
WIRE 464 -384 464 -400
WIRE 800 -384 800 -400
WIRE 1296 -384 1296 -400
WIRE 1424 -384 1424 -400
WIRE 320 -352 320 -400
WIRE 944 -352 944 -400
WIRE 1072 -352 1072 -400
WIRE 1120 -352 1120 -400
WIRE 128 -304 128 -400
WIRE 464 -304 464 -320
WIRE 800 -304 800 -320
WIRE 1296 -304 1296 -320
WIRE 1424 -304 1424 -320
WIRE 1072 -272 1072 -288
WIRE 1120 -272 1120 -288
WIRE 944 -240 944 -272
WIRE 944 -240 880 -240
WIRE 320 -224 320 -272
WIRE 320 -224 256 -224
WIRE 128 -208 128 -224
WIRE 256 -208 256 -224
WIRE 880 -208 880 -240
WIRE 1456 -160 1424 -160
WIRE 880 -128 880 -144
WIRE 1376 -128 1376 -400
WIRE 1456 -128 1456 -160
WIRE 288 -48 240 -48
WIRE 912 -48 880 -48
WIRE 240 -16 240 -48
WIRE 320 -16 320 -224
WIRE 880 -16 880 -48
WIRE 944 -16 944 -240
WIRE 1376 -16 1376 -48
WIRE 1376 -16 1312 -16
WIRE 1424 -16 1424 -160
WIRE 1424 -16 1376 -16
WIRE 1312 16 1312 -16
WIRE 160 48 80 48
WIRE 784 48 704 48
WIRE 80 80 80 48
WIRE 288 80 288 -48
WIRE 304 80 288 80
WIRE 320 80 320 64
WIRE 320 80 304 80
WIRE 704 80 704 48
WIRE 912 96 912 -48
WIRE 944 96 944 64
WIRE 944 96 912 96
WIRE 1008 96 944 96
WIRE 1136 96 1072 96
WIRE 1264 96 1136 96
WIRE 1456 96 1456 -48
WIRE 1472 96 1456 96
WIRE 160 112 160 48
WIRE 240 112 240 64
WIRE 240 112 160 112
WIRE 304 112 304 80
WIRE 368 112 304 112
WIRE 496 112 432 112
WIRE 784 128 784 48
WIRE 832 128 784 128
WIRE 880 128 880 64
WIRE 880 128 832 128
WIRE 240 144 240 112
WIRE 496 144 496 112
WIRE 832 144 832 128
WIRE 1136 144 1136 96
WIRE 1312 144 1312 112
WIRE -192 192 -256 192
WIRE -96 192 -112 192
WIRE -48 192 -96 192
WIRE 80 192 80 160
WIRE 80 192 16 192
WIRE 112 192 80 192
WIRE 176 192 112 192
WIRE 608 192 592 192
WIRE 704 192 704 160
WIRE 704 192 672 192
WIRE 736 192 704 192
WIRE 768 192 736 192
WIRE -256 208 -256 192
WIRE 80 224 80 192
WIRE 496 240 496 224
WIRE 592 240 592 192
WIRE 592 240 496 240
WIRE 704 240 704 192
WIRE 1136 240 1136 224
WIRE 1200 240 1136 240
WIRE 1248 240 1200 240
WIRE 496 256 496 240
WIRE 1136 256 1136 240
WIRE 1248 256 1248 240
WIRE 240 272 240 240
WIRE 288 272 240 272
WIRE 400 272 352 272
WIRE 832 272 832 240
WIRE 1424 272 1424 208
WIRE -256 304 -256 288
WIRE 240 304 240 272
WIRE 400 304 400 272
WIRE 80 384 80 304
WIRE 496 384 496 336
WIRE 704 384 704 320
WIRE 832 384 832 352
WIRE 1136 384 1136 336
WIRE 1248 384 1248 320
WIRE 1424 384 1424 352
WIRE 240 400 240 384
WIRE 336 400 240 400
WIRE 400 400 400 384
WIRE 400 400 336 400
WIRE 336 432 336 400
FLAG 704 384 0
FLAG 832 384 0
FLAG -256 304 0
FLAG 128 -208 0
FLAG 880 -128 0
FLAG 1136 384 0
FLAG 1312 144 0
FLAG 1120 -272 0
FLAG 800 -304 0
FLAG 1296 -304 0
FLAG -96 192 Vin
FLAG -256 192 Vins
FLAG 1536 96 Vo
FLAG 464 -304 0
FLAG 336 432 0
FLAG 80 384 0
FLAG 496 384 0
FLAG 1424 -304 0
FLAG 1072 -272 0
FLAG 1424 384 0
FLAG 1424 208 Vo
FLAG 256 -144 0
FLAG 1248 384 0
FLAG 1136 96 Vg
FLAG 1200 240 Vbias
FLAG 1312 -16 Vd
FLAG 736 192 Vb2
FLAG 112 192 Vb1
SYMBOL npn 768 144 R0
SYMATTR InstName Q1
SYMATTR Value 2N2219A
SYMBOL res 688 64 R0
SYMATTR InstName R1
SYMATTR Value 1K
SYMBOL res 688 224 R0
SYMATTR InstName R2
SYMATTR Value 100
SYMBOL res 816 256 R0
SYMATTR InstName R3
SYMATTR Value 10
SYMBOL voltage -256 192 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value SINE(0 {S} {F})
SYMBOL voltage 128 -320 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL ind2 224 -32 R0
SYMATTR InstName L1
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL ind2 304 -32 R0
SYMATTR InstName L2
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL res 928 -368 R0
SYMATTR InstName R5
SYMATTR Value 22R
SYMBOL cap 864 -208 R0
SYMATTR InstName C1
SYMATTR Value .1µ
SYMBOL res -96 176 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rin
SYMATTR Value {Z}
SYMBOL cap 16 176 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value .1µ
SYMBOL cap 1072 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value .1µ
SYMBOL voltage 1136 240 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value {B}
SYMBOL res 1120 128 R0
SYMATTR InstName R7
SYMATTR Value 47
SYMBOL nmos 1264 16 R0
SYMATTR InstName M1
SYMATTR Value IRF510
SYMBOL ind2 864 -32 R0
SYMATTR InstName L3
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL ind2 928 -32 R0
WINDOW 3 42 71 Left 2
SYMATTR Value 35µ
SYMATTR InstName L4
SYMATTR Type ind
SYMBOL ind 1152 -384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L5
SYMATTR Value 60µ
SYMBOL cap 1104 -352 R0
SYMATTR InstName C5
SYMATTR Value 470µ
SYMBOL cap 784 -384 R0
SYMATTR InstName C6
SYMATTR Value .1µ
SYMBOL cap 1280 -384 R0
SYMATTR InstName C7
SYMATTR Value .1µ
SYMBOL cap 1536 80 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value .1µ
SYMBOL npn 176 144 R0
SYMATTR InstName Q2
SYMATTR Value BC849B
SYMBOL res 64 208 R0
SYMATTR InstName R8
SYMATTR Value 470R
SYMBOL res 64 64 R0
SYMATTR InstName R9
SYMATTR Value 1K
SYMBOL res 224 288 R0
SYMATTR InstName R10
SYMATTR Value 100
SYMBOL res 384 288 R0
SYMATTR InstName R11
SYMATTR Value 10
SYMBOL cap 352 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL cap 480 -320 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C10
SYMATTR Value .1µ
SYMBOL cap 368 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C11
SYMATTR Value .1µ
SYMBOL ind2 1360 -144 R0
SYMATTR InstName L6
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL ind2 1440 -144 R0
SYMATTR InstName L7
SYMATTR Value 35µ
SYMATTR Type ind
SYMBOL res 480 128 R0
SYMATTR InstName R12
SYMATTR Value 1
SYMBOL res 480 240 R0
SYMATTR InstName R13
SYMATTR Value 99
SYMBOL cap 1408 -384 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL cap 1056 -352 R0
SYMATTR InstName C12
SYMATTR Value .1µ
SYMBOL res 1408 256 R0
SYMATTR InstName Rout
SYMATTR Value 50R
SYMBOL res 304 -368 R0
SYMATTR InstName R6
SYMATTR Value 10R
SYMBOL cap 608 208 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C13
SYMATTR Value .1µ
SYMBOL cap 240 -208 R0
SYMATTR InstName C14
SYMATTR Value .1µ
SYMBOL cap 1232 256 R0
SYMATTR InstName C15
SYMATTR Value .1µ
TEXT 176 -72 Left 2 !K1 L1 L2 1
TEXT 800 -72 Left 2 !K2 L3 L4 1
TEXT 960 -64 Left 2 ;10 Bifilar FT37-43
TEXT 1224 -168 Left 2 !K3 L6 L7 1
TEXT 1688 -472 Left 2 !.options plotwinsize=0\n.options numdgt = 8\n \n.param Rja 62\n.param Rcs 0.50\n.param Rjc 3.5\n.param Tj 150\n \n.meas TRAN Vinr RMS V(Vin)\n.meas TRAN Vinsr RMS V(Vins)\n.meas TRAN Vor RMS V(Vo)\n.meas TRAN Iinr RMS I(Rin)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vb1r RMS V(Vb1)\n.meas TRAN Vb1avg AVG V(Vb1)\n.meas TRAN Vb1max MAX V(Vb1)\n.meas TRAN Vb1min MIN V(Vb1)\n.meas TRAN Vpp1r PARAM Vb1max-Vb1min\n.meas TRAN Vp1r PARAM Vb1max-Vbe1\n.meas TRAN Cd1 PARAM Vp1r/Vpp1r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vb2r RMS V(Vb2)\n.meas TRAN Vb2avg AVG V(Vb2)\n.meas TRAN Vb2max MAX V(Vb2)\n.meas TRAN Vb2min MIN V(Vb2)\n.meas TRAN Vpp2r PARAM Vb2max-Vb2min\n.meas TRAN Vp2r PARAM Vb2max-Vbe2\n.meas TRAN Cd2 PARAM Vp2r/Vpp2r\n;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vgr RMS V(Vg)\n.meas TRAN Vgavg AVG V(Vg)\n.meas TRAN Vgmax MAX V(Vg)\n.meas TRAN Vgmin MIN V(Vg)\n.meas TRAN Vbiasr RMS V(Vbias)\n.meas TRAN Vppr PARAM Vgmax-Vgmin\n.meas TRAN Vpr PARAM Vgmax-Vgs\n.meas TRAN Cd PARAM Vpr/Vppr\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Idr RMS Id(m1) \n.meas TRAN Pdis AVG (V(vd)*Id(m1) + V(vg)*Ig(m1))\n \n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Temp PARAM Pdis*Rja\n.meas TRAN Rheatsink PARAM ((Tj-25)/Pdis-Rcs-Rjc)\n;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Zin PARAM Z*Vinr/(vinsr-Vinr)\n.meas TRAN Cd1Angle PARAM Cd1*360\n.meas TRAN Cd2Angle PARAM Cd2*360\n.meas TRAN CdAngle PARAM Cd*360\n.meas TRAN Pin PARAM Zin*Iinr*Iinr\n.meas TRAN Pout AVG (V(Vo)*I(Rout))\n.meas TRAN Pmar PARAM Pout-Pdis\n ;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Gp PARAM 10*log10(Pout/Pin)\n.meas TRAN Gv PARAM 20*log10(Vor/Vinr)\n \n.four {F} 4 -1 V(Vo)
TEXT 1696 -512 Left 2 !.tran 0 20u 10u
TEXT 336 -72 Left 2 ;10 Bifilar FT37-43
TEXT 1392 -176 Left 2 ;10 Bifilar FT37-43
TEXT -352 -456 Left 2 !.step param F list 1.5Meg 3.7Meg 5.37Meg 7.1Meg 10.1Meg 14.1Meg 21.1Meg 28.7Meg\n;.param F 14.1Meg\n.param S 1.3\n.param B 4.17\n.param Z 90\n.param AC 1.5\n.param Vgs 3.71\n.param Vbe1 0.62\n.param Vbe2 0.60
TEXT 816 -536 Left 2 ;Input 0.3 give 18% THD but with more power in Mosfet\nInput 0.5 give 22% THD with a little more power in load
