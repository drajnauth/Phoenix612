Version 4
SHEET 1 2312 1176
WIRE 352 -176 240 -176
WIRE 448 -176 352 -176
WIRE 528 -176 448 -176
WIRE 1008 -176 528 -176
WIRE 448 -160 448 -176
WIRE 528 -160 528 -176
WIRE 240 -144 240 -176
WIRE 448 -80 448 -96
WIRE 528 -80 528 -96
WIRE 240 -48 240 -64
WIRE 1056 16 928 16
WIRE 1248 16 1136 16
WIRE 320 64 256 64
WIRE 496 64 400 64
WIRE 1008 96 1008 -176
WIRE 352 112 352 -176
WIRE 928 112 928 16
WIRE 976 112 928 112
WIRE 256 128 256 64
WIRE 320 128 256 128
WIRE 1168 128 1040 128
WIRE 1248 128 1248 16
WIRE 1248 128 1232 128
WIRE 1424 128 1248 128
WIRE 1440 128 1424 128
WIRE 1568 128 1440 128
WIRE 1696 128 1568 128
WIRE 496 144 496 64
WIRE 496 144 384 144
WIRE 544 144 496 144
WIRE 672 144 608 144
WIRE 720 144 720 64
WIRE 720 144 672 144
WIRE 976 144 720 144
WIRE -144 160 -256 160
WIRE -32 160 -32 96
WIRE -32 160 -64 160
WIRE -16 160 -32 160
WIRE 112 160 48 160
WIRE 320 160 112 160
WIRE 672 160 672 144
WIRE 1568 160 1568 128
WIRE 112 176 112 160
WIRE 1440 176 1440 128
WIRE 1696 176 1696 128
WIRE -256 208 -256 160
WIRE 256 208 256 128
WIRE 672 256 672 240
WIRE 112 272 112 256
WIRE 1440 288 1440 240
WIRE 1568 288 1568 240
WIRE 1696 288 1696 240
WIRE -256 304 -256 288
WIRE 256 304 256 288
WIRE 272 384 144 384
WIRE 352 384 352 176
WIRE 352 384 272 384
WIRE 1008 384 1008 160
WIRE 1008 384 352 384
WIRE 272 400 272 384
WIRE 352 400 352 384
WIRE 144 416 144 384
WIRE 272 480 272 464
WIRE 352 480 352 464
WIRE 144 512 144 496
FLAG 240 -48 0
FLAG -256 304 0
FLAG 256 304 0
FLAG 448 -80 0
FLAG 528 -80 0
FLAG 720 64 Vout1
FLAG -32 96 Vin
FLAG 144 512 0
FLAG 272 480 0
FLAG 352 480 0
FLAG 112 272 0
FLAG 1440 288 0
FLAG 1696 288 0
FLAG 1424 128 Vadc
FLAG 1568 288 0
FLAG 672 256 0
SYMBOL cap 48 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 10µ
SYMBOL voltage -256 192 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 1
SYMATTR InstName V1
SYMATTR Value SINE(0 {V} 1500 0 0 0 20)
SYMBOL voltage 240 -160 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value 12V
SYMBOL res 416 48 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100K
SYMBOL res 272 304 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value {R}
SYMBOL cap 512 -160 R0
SYMATTR InstName C9
SYMATTR Value .1µ
SYMBOL cap 432 -160 R0
SYMATTR InstName C10
SYMATTR Value 100µ
SYMBOL res -48 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1500
SYMBOL voltage 144 400 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value -12
SYMBOL cap 336 400 R0
SYMATTR InstName C2
SYMATTR Value .1µ
SYMBOL cap 256 400 R0
SYMATTR InstName C4
SYMATTR Value 100µ
SYMBOL res 656 144 R0
SYMATTR InstName R4
SYMATTR Value 2K
SYMBOL res 96 160 R0
SYMATTR InstName R3
SYMATTR Value 33K
SYMBOL cap 608 128 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL schottky 1168 144 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 -2 30 VBottom 2
SYMATTR InstName D1
SYMATTR Value 1N5711
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 1424 176 R0
SYMATTR InstName C5
SYMATTR Value .22µ
SYMBOL cap 1680 176 R0
SYMATTR InstName CADC1
SYMATTR Value 14p
SYMBOL res 1552 144 R0
SYMATTR InstName R6
SYMATTR Value 500K
SYMBOL res 1040 32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 100R
SYMBOL OpAmps\\TL072 352 80 R0
SYMATTR InstName U1
SYMBOL OpAmps\\TL072 1008 64 R0
SYMATTR InstName U2
TEXT -760 -208 Left 2 !.tran 1
TEXT -768 -160 Left 2 !.inc LM358.sub\n.inc NE5532.lib
TEXT -912 8 Left 2 ;measured Vpp Output from 1 NE5532 terminated to LM380\n1.9mv  -100dBm (LTspice Input: 28u)\n39.6mV  -70dBm (LTspice Input: 600u)\n214mV  --50dBm (LTspice Input: 3.2m)
TEXT 1040 -504 Left 2 ;.meas TRAN Vinrms RMS V(Vin)\n.meas TRAN Vinavr AVG V(Vin)\n.meas TRAN Vinmax MAX V(Vin)\n.meas TRAN Vinmin MIN V(Vin)\n.meas TRAN Vinpp PARAM Vinmax -Vinmin \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vout1rms RMS V(Vout1)\n.meas TRAN Vout1avr AVG V(Vout1)\n.meas TRAN Vout1max MAX V(Vout1)\n.meas TRAN Vout1min MIN V(Vout1)\n.meas TRAN Vout1pp PARAM Vout1max -Vout1min \n;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vout2rms RMS V(Vout2)\n.meas TRAN Vout2avr AVG V(Vout2)\n.meas TRAN Vout2max MAX V(Vout2)\n.meas TRAN Vout2min MIN V(Vout2)\n.meas TRAN Vout2pp PARAM Vout2max -Vout2min
TEXT -504 -208 Left 2 !.step param V list 28u 100u 300u 600u 3.2m\n \n.param R 170\n \n;.param V 100u
TEXT -504 -264 Left 2 ;.option noopiter
TEXT 1720 -408 Left 2 !.meas TRAN Vinrms RMS V(Vin)\n.meas TRAN Vinavr AVG V(Vin)\n.meas TRAN Vinmax MAX V(Vin)\n.meas TRAN Vinmin MIN V(Vin)\n.meas TRAN Vinpp PARAM Vinmax-Vinmin \n;;;;;;;;;;;;;;;;;;;;\n.meas TRAN Vout1rms RMS V(Vout1)\n.meas TRAN Vout1avr AVG V(Vout1)\n.meas TRAN Vout1max MAX V(Vout1)\n.meas TRAN Vout1min MIN V(Vout1)\n.meas TRAN Vout1pp PARAM Vout1max-Vout1min\n;;;;;;;;;;;;;;;;;\n.meas TRAN Gvx PARAM Vout1rms/Vinrms \n.meas TRAN Gv PARAM 20*log10(Gvx)
